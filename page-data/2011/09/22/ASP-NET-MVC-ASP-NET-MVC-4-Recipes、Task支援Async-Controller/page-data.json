{"componentChunkName":"component---src-templates-page-js","path":"/2011/09/22/ASP-NET-MVC-ASP-NET-MVC-4-Recipes、Task支援Async-Controller/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"ASP.NET MVC -  ASP.NET MVC 4 Recipes、Task支援Async Controller","date":"22 September 2011","author":"Sky Chang","excerpt":null,"tags":["ASP.NET MVC"],"coverImage":null},"id":"033ecbbd-f3c6-5018-9444-94e38cdfc525","html":"<p>2012/02/25更新</p>\n<p>終於到了ASP.NET MVC 4 的最終章，而剩下的一點點東西，就會在這篇介紹完畢，最後剩下的新功能，大概就是Recipes和Asynchronous Controllers這兩樣，其實這兩樣東西在<a href=\"http://blog.sanc.idv.tw/2011/08/aspnet-mvc-4.html\">路線圖</a>就已經有介紹過了，而這些東西，這次官網也沒有真的公布許多東西，所以我就稍微針對官網的敘述，做一個解釋。</p>\n<h4>Recipes</h4>\n<p>這個新功能，可以讓你在Visual Studio裡面擁有完整的解決方案，就像之前所提到的，利用NuGet來安裝jQuery Mobile，來取得完整的Mobile裝置環境，而這次官方也提供Recipes Framework來給使用者開發使用，來製作方便好用的Package，並且使用此功能，也可以讓你去新增或是處理Area、Controller、View等檔案，而且配合NuGet的更新能力，更讓整個機制更加的完整而且方便。</p>\n<h4>Task 正式支援 Asynchronous Controllers</h4>\n<p>Asynchronous Controllers的Return可以返回Task了；如以下範例，以下範例使用了C# 5.0 (or 使用了<a href=\"http://msdn.microsoft.com/en-us/vstudio/async.aspx\">AsynC CTP</a> )。</p>\n<pre class=\"brush: csharp;\">public async Task<actionresult> Index(string city) {\n    var newsService = new NewsService();\n    var sportsService = new SportsService();\n\n    return View(\"Common\",\n        new PortalViewModel {\n        NewsHeadlines = await newsService.GetHeadlinesAsync(),\n        SportsScores = await sportsService.GetScoresAsync()\n    });\n}\n</pre>\n<p>第二個範例，我們可以設定TimeOut的時間。</p>\n<pre class=\"brush: csharp;\">[AsyncTimeout(2500)]\n [HandleError(ExceptionType = typeof(TaskCanceledException), View = \"TimedOut\")]\npublic async Task<actionresult> Index(string city,\n    CancellationToken cancellationToken) {\n    var newsService = new NewsService();\n    var sportsService = new SportsService();\n\n    return View(\"Common\",\n        new PortalViewModel {\n        NewsHeadlines = await newsService.GetHeadlinesAsync(cancellationToken),\n        SportsScores = await sportsService.GetScoresAsync(cancellationToken)\n    });\n}\n</pre>\n<p>原則上就是這樣，其中有一些issues的部分，因為會一直去做修正，所以就不在這裡講了，有興趣的可以直接去參考相關網站。</p>\n<h4>參考資料</h4>\n<ol>\n<li><a href=\"http://www.asp.net/learn/whitepapers/mvc4-release-notes\" title=\"http://www.asp.net/learn/whitepapers/mvc4-release-notes\">http://www.asp.net/learn/whitepapers/mvc4-release-notes</a></li>\n</ol>","excerpt":"2012/02/25更新 終於到了ASP.NET MVC 4 的最終章，而剩下的一點點東西，就會在這篇介紹完畢，最後剩下的新功能，大概就是Recipes和Asynchronous Controllers…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"ASP.NET MVC - ASP.NET MVC 4 View Switcher","tags":["ASP.NET MVC"]},"fields":{"slug":"/2011/09/22/ASP-NET-MVC-ASP-NET-MVC-4-View-Switcher/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/ASP-NET-MVC-ASP-NET-MVC-4-View-Switcher.md"},"previous":{"frontmatter":{"path":null,"title":"開發人應該學的，用Visual Studio開發SQL( SQL Server Data Tools ) - 重構功能","tags":["SQL Server","Tools","Visual Studio"]},"fields":{"slug":"/2011/09/22/開發人應該學的，用Visual-Studio開發SQL-SQL-Server-Data-Tools-重構功能/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/開發人應該學的，用Visual-Studio開發SQL-SQL-Server-Data-Tools-重構功能.md"}}}}