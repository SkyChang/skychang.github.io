{"componentChunkName":"component---src-templates-page-js","path":"/2010/09/02/TFS-2010-Team-Build-後自動發佈/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"TFS 2010 Team Build 後自動發佈","date":"02 September 2010","author":"Sky Chang","excerpt":null,"tags":["TFS","Visual Studio"],"coverImage":null},"id":"147ff5e0-1098-52db-a640-ab946107804e","html":"<p>這個問題也搞了我超級超級久，</p>\n<p>查了TFS 2008版本，但是感覺已經不適用了，</p>\n<p>翻了<a href=\"http://weblogs.asp.net/scottgu/\">ScottGu</a>老大的Blog也只有說，未來會再針對Team Build的部分做講解XD</p>\n<p>後來又找到了[Ewald Hofman寫的這篇文章</p>\n<p>](<a href=\"http://www.ewaldhofman.nl/post/2010/04/12/Auto-deployment-of-my-web-application-with-Team-Build-2010-to-add-Interactive-Testing.aspx\">http://www.ewaldhofman.nl/post/2010/04/12/Auto-deployment-of-my-web-application-with-Team-Build-2010-to-add-Interactive-Testing.aspx</a>)成功是成功了，但是變成只發佈於Build的那台電腦上....</p>\n<p>( 一開始還找不到發佈到哪去了... )</p>\n<p>後來終於有找到一篇文章，原來還滿簡單的。</p>\n<p><a name='more'></a>發佈之前，請先確認IIS主機有開啟與安裝Deploy Service。</p>\n<p>首先我們要在專案內容裡面設定發佈的細節</p>\n<p><a href=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image_2618C2AA.png\"><img src=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image_2618C2AA.png\" alt=\"專案內容\" title=\"專案內容\"></a></p>\n<p>( 借一下圖，...以後再換成中文版... )</p>\n<p>如上圖的Test3就是iis裡面的網站名稱，</p>\n<p>設定好後</p>\n<p>在設定Build控制器的地方也要設定一下</p>\n<p><a href=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image_4CE6D8EA.png\"><img src=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image_4CE6D8EA.png\"></a></p>\n<p>加入MSBuild參數“<strong>/p:DeployOnBuild=True</strong>”表示會建構發佈檔案。</p>\n<p>但是建構發佈檔案是不會自動執行的，所以我們要有一個事件來觸發，</p>\n<p>剛好案件內容有一個地方可以設定，</p>\n<p>當編譯完成(成功)時，會自動觸發事件</p>\n<p><a href=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image.axd_.png\"><img src=\"http://blog.sanc.idv.tw/wp-content/uploads/2010/09/image.axd_.png\" title=\"image.axd\"></a></p>\n<p>我們只要在Post-Buid事件加上</p>\n<p>if \"$(ConfigurationName)\" == \"Release\" \"$(TargetDir)<em>PublishedWebsites$(TargetName)</em>Package$(TargetName).deploy.cmd\"  /M:<a href=\"http://Test/MSDEPLOYAGENTSERVICE\">http://Test/MSDEPLOYAGENTSERVICE</a> /Y</p>\n<p>這串字串就可以了，</p>\n<p>這樣，當你發佈為Release時，就會自動的將網站發佈到Test這台IIS下了。</p>","excerpt":"這個問題也搞了我超級超級久， 查了TFS 2008版本，但是感覺已經不適用了， 翻了ScottGu老大的Blog也只有說，未來會再針對Team Build的部分做講解XD 後來又找到了[Ewald Hofman寫的這篇文章 ](http://www.ewaldhofman.nl…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"很笨的SharePoint 2010安裝經驗","tags":["SharePoint"]},"fields":{"slug":"/2010/09/02/很笨的SharePoint-2010安裝經驗/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/很笨的SharePoint-2010安裝經驗.md"},"previous":{"frontmatter":{"path":null,"title":"使用Linq進行動態查詢","tags":["Entity Framework","Linq"]},"fields":{"slug":"/2010/10/04/使用Linq進行動態查詢/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/使用Linq進行動態查詢.md"}}}}