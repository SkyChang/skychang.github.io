{"componentChunkName":"component---src-templates-page-js","path":"/2014/03/27/Azure-Web-Site-的豆知識/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Azure - Web Site 的豆知識","date":"27 March 2014","author":"Sky Chang","excerpt":null,"tags":["Azure"],"coverImage":null},"id":"c1a2db1c-6766-5d47-ade8-21affdb67261","html":"<p>這幾天，在Azure User Group 聽到朋友小葉問了一個Azure Web Site的一個問題，而這個問題，小弟我之前竟然完全沒有想到(發現)過…</p>\n<p>這個問題類似是這樣的。</p>\n<blockquote>\n<p>我在Azure上，使用Web Site開了兩個Site，但我沒辦法調整一個Site為L Size的VM，而另外一個Size為M。 </p>\n</blockquote>\n<p>嗯，可以調整不同的不是很正常的一件事情嗎!?後來才發現，完全錯誤…</p>\n<p>小弟我後來找到神人Scott Hanselman介紹Azure Web Site的<a href=\"http://www.hanselman.com/blog/PennyPinchingInTheCloudWhenDoAzureWebsitesMakeSense.aspx\">這篇文章</a>…所以我就抓幾個比較比較重要的點。</p>\n<p>1.到底共用和標準有甚麼不同…</p>\n<p>是的，很大的不同，共用指的是和一群人共用一個VM，而標準則是給我們一個獨立的VM；我相信這個大家應該都能了解，但其實這有更進一步的涵義。</p>\n<p>如果我們將共用改成標準，我們會發現，它會自動選取所有的網站；當初，小弟我以為這是個坑，一不小心就會付上3倍的錢…</p>\n<p><a href=\"http://lh4.ggpht.com/-_RgRVS7iqVw/UzQ_UjCdC1I/AAAAAAAAIy4/sSuSF-rYqiQ/s1600-h/image%25255B3%25255D.png\"><img src=\"http://lh3.ggpht.com/-pfHoMxSSX98/UzQ_Wf_tFRI/AAAAAAAAIzA/LR4KsdztNX4/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>但結果不是這樣的，這裡的標準，代表的是開一個專用的VM給你，而這個VM裡面會放3個Web Site站台，也就是說，其實不是要付3倍錢，而是只要付一台VM的錢，然後給3個Web Site共用…</p>\n<p>所以我們回到上面那個問題，這樣的解釋，自然就可以了解，為什麼我們不能一台選擇L size，一台選擇S Size了吧…因為Azure Web Site的標準，就是給你一台VM…( 順便補充一下，一台VM最多可以塞500個Web Site，而只需要收一台的錢… )</p>\n<p>所以這樣聽起來感覺是還不錯的XDDDD</p>\n<p>OK，我們回到Scott Hanselman的文章，他文章有提到，如果超過8個Web Site的Shared，那還不如用一台VM吧… ( 以下是他網站的截圖…請原諒我直接拷貝~~ )</p>\n<p>從這邊可以看到，8個Web Site的費用是77.38美元。\n<img src=\"http://www.hanselman.com/blog/content/binary/Windows-Live-Writer/Penny-Pinching-in-the-Cloud-When-does-Az_D6A0/image_686182f3-af5f-4d13-a111-d7a79e57b4e5.png\" alt=\"image\">  </p>\n<p>而一個VM的費用是74.70美元，而且可以塞500個…</p>\n<p><img src=\"http://www.hanselman.com/blog/content/binary/Windows-Live-Writer/Penny-Pinching-in-the-Cloud-When-does-Az_D6A0/image_a8f2d57e-49a5-4465-80af-a8420584c3d3.png\" alt=\"image\"></p>\n<p>所以，如果有很多個Web Site，可以考慮租用一個VM…而根據他網站的資料，他自己就開了11個Web Site… ( 小弟也才3個阿… )</p>\n<p>2.如何讓Web Site 24hr 不停的Run</p>\n<p>這個是我後來看到的，覺得滿有趣的，所以就加入這個豆知識篇XDDD</p>\n<p>通常我們租用一個標準的VM，自然而然，上面就會有許多我們放的Web Site，而這台VM也會24HR不中斷的為我們賣命XDDD，但這台VM裡面的Web Site，如果在小時內，並沒有大量地使用，就會進入休眠狀態，以利把資源讓給同一台，其他的Web Sites來使用… ( 偷懶嗎XDD )，當然，這個休眠不代表就死翹翹了，而是當有請求進來的時候，再解凍復活…但就如使用微波爐一樣，解凍也是要依些時間嘛…所以起來的時間會有點停頓…<strike>而這時就可以用監控的功能讓他不斷地戳這個Web Sites…</strike> 而這時候，就可以使用Web Site的新功能Always On來讓Web Site活著.. ( 不是SQL Server的AlwaysOn阿…. 感謝John哥提醒!! )；記住，要標準模式才能使用喔…付費者最大嘛~~</p>\n<p><a href=\"http://lh5.ggpht.com/-G6EsVYnu5lo/UzT1CtfaBCI/AAAAAAAAIzQ/tEaY9NyMXmQ/s1600-h/image%25255B4%25255D.png\"><img src=\"http://lh6.ggpht.com/-iKRgp_Ts_4k/UzT1DRXsQ3I/AAAAAAAAIzY/4dhtDuG768c/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這樣子，就可以保持Web Site的活耀…</p>\n<p>以上，小小的豆知識篇~~</p>\n<h4>參考網址</h4>\n<ul>\n<li><a href=\"http://www.hanselman.com/blog/PennyPinchingInTheCloudWhenDoAzureWebsitesMakeSense.aspx\" title=\"http://www.hanselman.com/blog/PennyPinchingInTheCloudWhenDoAzureWebsitesMakeSense.aspx\">http://www.hanselman.com/blog/PennyPinchingInTheCloudWhenDoAzureWebsitesMakeSense.aspx</a> <li><a href=\"http://weblogs.asp.net/scottgu/archive/2014/01/16/windows-azure-staging-publishing-support-for-web-sites-monitoring-improvements-hyper-v-recovery-manager-ga-and-pci-compliance.aspx\" title=\"http://weblogs.asp.net/scottgu/archive/2014/01/16/windows-azure-staging-publishing-support-for-web-sites-monitoring-improvements-hyper-v-recovery-manager-ga-and-pci-compliance.aspx\">http://weblogs.asp.net/scottgu/archive/2014/01/16/windows-azure-staging-publishing-support-for-web-sites-monitoring-improvements-hyper-v-recovery-manager-ga-and-pci-compliance.aspx</a></li>\n</ul>","excerpt":"這幾天，在Azure User Group 聽到朋友小葉問了一個Azure Web Site的一個問題，而這個問題，小弟我之前竟然完全沒有想到(發現)過… 這個問題類似是這樣的。 我在Azure上，使用Web Site開了兩個Site，但我沒辦法調整一個Site為L Size…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure - 建立ASP.NET MVC專案時，使用Windows Azure AD驗證","tags":["Active Directory","ASP.NET MVC","Azure"]},"fields":{"slug":"/2014/02/26/Windows-Azure-建立ASP-NET-MVC專案時，使用Windows-Azure-AD驗證/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-建立ASP-NET-MVC專案時，使用Windows-Azure-AD驗證.md"},"previous":{"frontmatter":{"path":null,"title":"Azure -  刪除Azure上的AD","tags":["Active Directory","Azure"]},"fields":{"slug":"/2014/05/11/Azure-刪除Azure上的AD/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Azure-刪除Azure上的AD.md"}}}}