{"componentChunkName":"component---src-templates-page-js","path":"/2017/01/01/Hexo-Use_Travis_CI_Auto_Deploy_Blog/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Hexo - 使用 Travis CI 自動佈署 Blog","date":"01 January 2017","author":"Sky Chang","excerpt":null,"tags":["Node.js","Hexo","Github","Travis CI"],"coverImage":null},"id":"d14cb150-2faa-5ded-b8c4-b8a9981bb2fd","html":"<h2>前言</h2>\n<p>新的一年，2017 又開始了，而回顧了舊的 2016 那一年，其實文章少的可憐到一個極致，在技術的道路上，\n感覺去年也沒甚麼長進，所以在新的一年的第一天，除了陪家人走走外，大概就是要把今年重新撰寫 Blog 的目標重新定義一下，\n這段時間，也嘗試了許多種讀書學習的方式，到最後，還是覺得寫文章最有效果阿!!!</p>\n<p>當然，廢話不多說，有空再來寫一篇回顧文..既然這邊決定今年要重返 Blog 界，那自然第一篇就要和 Blog 有關係了。</p>\n<p>在很久之前 ( 大概2015 ) 寫了幾篇 Hexo 的安裝與使用，隔了這一段時間，終於要讓他進入 CI 了，\n當然，這部分的文章期使已經有非常非常多了，這次也參考了許多中文繁體與簡體前輩寫文的文章，有興趣可以看一下附錄，\n但基於自己的興趣，還是把他列成屬於自己的一篇記錄文吧!</p>\n<p>OK~讓我們開始吧!!</p>\n<h2>Travis CI</h2>\n<p>是的，這次我選用的是<a href=\"https://travis-ci.org/\">Travis CI</a>，或許大家會想說，為何不用 VSTS，\n其實也沒有甚麼特別的因素，純粹只是想試試看 Travis CI 而已...</p>\n<p>而 Travis CI 是一個免費的 CI 工具，和 GitHub 也很契合，所以身為技術狂的人，這次我們就來嘗試看看吧。</p>\n<p>(\n備註 : 如果是使用於 Open Source 專案，也就是 Public Repo 則不用錢，如果是使用在 Private Repo 專案，則要 $$\n所以過一陣子，搞不好真的要跳到 VSTS 去了..\n)</p>\n<h2>環境</h2>\n<p>在開始前，我必須要說一下我自己的環境；在查了很多文章後，赫然發現，有許多的朋友，會把 GitHub Page 設為 Master，\n( 其實 GitHub Page 也必須要為 Master )，而把尚未編譯的 MD 檔案，也是 Source ，放到同一個 Repo 裡面，\n而用分支的方式切開.</p>\n<p>當然，也不是說好或是不好，但小弟自己是習慣把 Source 放到 Private Repo 裡面，而 GitHub Page 則是放在 Public，\n對小弟來說，這就像是在寫程式一般，放到 GitHub Page ，自然就是只提供已經編譯完的 HTML ，而 MD 還是放在 Private Repo 裡面。</p>\n<p>所以，對小弟來說，小弟的環境，就是一個 Public Repo 放置編譯完後的 HTML。\n而 Private Repo 則是放 MD。</p>\n<p>故，有兩個 Repo，也因此，在設定的情況下，就會和目前網路上大部分的文章有些落差。 </p>\n<p>另外，小弟這邊也直接使用了 Hexo 的 hexo-deployer-git，因為原本我是直接透過指令佈署，\n所以如果沒使用的朋友們，可以先進行 hexo-deployer-git 的設定。</p>\n<h2>設定</h2>\n<p>基本上，Travis CI 非常簡單，簡單到隨便按按就可以了!(疑)，總之，一開始就是使用 GitHub 進行登入。</p>\n<p>也因為使用 GitHub 帳號進行登入，所以 Travis CI 也順便地和 GitHub 要一些權限，例如拿到 Repo 列表之類的。\n完成之後，就會出現如下畫面；基本上如文章說的，只要三個步驟。</p>\n<ol>\n<li>開啟開關</li>\n<li>設定 travis.yml</li>\n<li>觸發!!</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c4865c7d4a9cb7305fbb001240d9c62/f9c26/01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABdklEQVQoz41SW07DMBDMheBs9CbtIehR+kE/uESqoiZx7DhJ7byGnQWHAhVipdHE8u54dzZZXdew1oJsjIH3Hn3f/wtd16FtW60lzuczsiFGzNOEZVkUDCY555R90yi3vtXHVESYTVyvV6RgbVEUyJx1GCWJUvM862Xf9WgbL2IetZXOnXQgKEwJI2fXONjaIoSwCrK2LEtko3THQ4K+JrChwTRP6IeAt6aA6SzKzqBsDUIMmMYJk9QOw6DMDlUQN5FGjuOAl/wVl/qCGCKqskJxEVFhUxkdjcW0JVmzdpjaTR6q6PL1wDiOOrbic4FEI97ST/pKL78Jps5uF3Mvbh/9mUdBbj5bE9iW8Ewv+lo9dIImeGGPNnaax0J6xjgej9jtdjidTnqmn786ZFjZYlGJT6YSlMoVUVU6KjthbJ42eHx4xP55r2eOfleQ3tAnGk6mEL8pFOW/Tf/f4XDAdrtFnucfy5S7ux7qaMu8clraX8EcCr4DtihRMRP1BjEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"01\"\n        title=\"01\"\n        src=\"/static/6c4865c7d4a9cb7305fbb001240d9c62/78d47/01.png\"\n        srcset=\"/static/6c4865c7d4a9cb7305fbb001240d9c62/56d15/01.png 200w,\n/static/6c4865c7d4a9cb7305fbb001240d9c62/d9f49/01.png 400w,\n/static/6c4865c7d4a9cb7305fbb001240d9c62/78d47/01.png 800w,\n/static/6c4865c7d4a9cb7305fbb001240d9c62/64756/01.png 1200w,\n/static/6c4865c7d4a9cb7305fbb001240d9c62/42cbc/01.png 1600w,\n/static/6c4865c7d4a9cb7305fbb001240d9c62/f9c26/01.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>實際上怎麼可能那麼單純 XDDD 。</p>\n<p>接下來，進入下圖，我們可以看到，完全找不到 Private Repo 的專案，這也很正常，因為我們要進入另外一個網站。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/63f6883c379d3971d695eb4b52fb82c3/f9c26/02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABcUlEQVQoz4VT2U7DMBDMx/PCCykSv8DvIJGIMxQEaloR53aaq0kHzzauolKEpZFt7WZ2dtZxqqqCNsiLAnmeC9I0lX273aKuazRNA+bNUTA/y1BpLXdt9s1mAwdm1bpE+PWBtutg1ziOiKIIcRxDKYX9fn/AFA91hdunFzwnqdwHk888IRx2O5Sm4jAMEuSHJNSlFlBtNxVr21bQG6zCNQoTswJY/EBoiPK8kNb6vj+QjntkRYaoUGjqBsFbgIW7ENWZIXFdFw+eRyZR/YuwLEvxgoSUz6zP7xVe1+/o6hZ3jx6ubq4RRwrficKFewn/3je5w3mFejKXQ2B7bJvDUiqWmK406mk4tKAyA+PQ2L61iWeHh3OLFcNVKEksQiIS7Izf1pL5tzyzO8deTkFC3/fFCoJPiaRUPx/eWcL5skkkDILg+O4ssbVm3uqfhFadJfTMFIvpwSdJIirZNhUy/i/hqcLlcnn8Wyxsu6cCuNOOHzZaUiw+mbWMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"02\"\n        title=\"02\"\n        src=\"/static/63f6883c379d3971d695eb4b52fb82c3/78d47/02.png\"\n        srcset=\"/static/63f6883c379d3971d695eb4b52fb82c3/56d15/02.png 200w,\n/static/63f6883c379d3971d695eb4b52fb82c3/d9f49/02.png 400w,\n/static/63f6883c379d3971d695eb4b52fb82c3/78d47/02.png 800w,\n/static/63f6883c379d3971d695eb4b52fb82c3/64756/02.png 1200w,\n/static/63f6883c379d3971d695eb4b52fb82c3/42cbc/02.png 1600w,\n/static/63f6883c379d3971d695eb4b52fb82c3/f9c26/02.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>進入 .com 的網站後，我們就可以找到 Private Repo 這個專案了，這時候，我們就可以輕鬆的啟動 Repo。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/717c9b4edaa1043b9a63fd174d10d74e/f9c26/03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAByUlEQVQoz21Ty47TQBDMV3PiAkLiP7LwMRyASIAUQMnisMZvj2c8fo9dVE/i7EbKSCV32jXVXZ32xlqLmqgqjVIrlKpEpSoopZhvYW3n0TS9h2WuaTpobZGXGsZYNKJR14iiCBvwtLVBGDxiGEY8nwXzGMMNT0SIoT0RAaYhJlLM/RPg/pHWkMnHPCPLsrOgmyYYreGcu8pN04gkPiKND0iTIzkVhRRmZ/i2QVD+xYdvn7DPY893FMzz/CJIIbHcdR3G8dzlTILWNQtZ2tcYxnOxni6GfsTE+FAaqLa/8m8EjTGQeYqgvBTUloKN8YVOQYCH7dZf0nTzcfuAx9+//GiWe4IyVBFs25Zd9JzJgiANsY8OnF2Pzz92ePP+HfI0Q1pkePX2NXZfd17opsNlWXD3MG0qhTAM/XyzPENW5D4uyhJJnnJMFfr+juUbnUsB2zT4cvyDkc+aq+Ro27H75dLRS+4ae0GxK5j4T6+xVOsp8H3/E4b7KBgoNhLuwnvJX3+naYqNDLikBbEmFcSG5Iqi4LokfsFlvxTzkisLLr6uECWRzwtXIPdOpxM2Egjk4hoLQcgJBaVYHMc+lzMnX4PnV+rKXQWF/x95hkrh9vsrQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"03\"\n        title=\"03\"\n        src=\"/static/717c9b4edaa1043b9a63fd174d10d74e/78d47/03.png\"\n        srcset=\"/static/717c9b4edaa1043b9a63fd174d10d74e/56d15/03.png 200w,\n/static/717c9b4edaa1043b9a63fd174d10d74e/d9f49/03.png 400w,\n/static/717c9b4edaa1043b9a63fd174d10d74e/78d47/03.png 800w,\n/static/717c9b4edaa1043b9a63fd174d10d74e/64756/03.png 1200w,\n/static/717c9b4edaa1043b9a63fd174d10d74e/42cbc/03.png 1600w,\n/static/717c9b4edaa1043b9a63fd174d10d74e/f9c26/03.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>接下來，我們要如下圖，把底下這兩個選項啟動，\n第一個 Build only if .travis.yml is present 代表著，只有擁有 .travis.yml 才會啟用 build，\n而 Build pushes 則是表示當 push 的時候會被觸發。</p>\n<p>另外，可以注意到最下面的 GH_TOKEN ，基本上，第一次進來是不會有這個的，這個是等下我們要進行設定的步驟。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c7018088478f8a4feefa9a9ffbba5702/f9c26/04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABVElEQVQoz41S2Y6CQBDk/z9u3zbxQeIeRrkEkXuAqa0aHYLKw3bSAZquqr6CvMhxueYoigJ6v91uqOt606uq2owLKz+fzwiMMZjnGdZa5yLM0tSB12aZczqdEMcxtkzYlLig6nv0XYdpmlxQAg2/W8bNON6/+Zz4jwlO3BHALkUMw4Ce+Y6wadtFQYAwinHMMvSsUN6x4oE58uMlR8PY2DSwKuCBsw+hjDjXsg+I8HO/x9fhgDrnXKnYknBixYb+sdvh9/sHJeOGFS2F0BZCrFS8G6pP+J/5EeiZJAkCr/AYLa5sJylL5GytZZtr13i0NL9tzU54P3/FgnVlMiVXBHUEr8+loVBJIW06iiKEYejORHG/EP0P1nNYE9uXk3juBI5IVfuWJazq3wiHmT7WmE3qlDsthIt7nfXrDcpGntcbYdcPVK+pfm9T7WpWW8t76uhxj3/i/lr6FA9BdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"04\"\n        title=\"04\"\n        src=\"/static/c7018088478f8a4feefa9a9ffbba5702/78d47/04.png\"\n        srcset=\"/static/c7018088478f8a4feefa9a9ffbba5702/56d15/04.png 200w,\n/static/c7018088478f8a4feefa9a9ffbba5702/d9f49/04.png 400w,\n/static/c7018088478f8a4feefa9a9ffbba5702/78d47/04.png 800w,\n/static/c7018088478f8a4feefa9a9ffbba5702/64756/04.png 1200w,\n/static/c7018088478f8a4feefa9a9ffbba5702/42cbc/04.png 1600w,\n/static/c7018088478f8a4feefa9a9ffbba5702/f9c26/04.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>回到 GitHub ，因為最後，我們要透過 Travis CI 把編譯成 HTML 的檔案，重新簽入且 Push 至 Public Repo，\n所以這邊，我們要在 GitHub 網站設定 Personal access tokens ，並且把此 Token 提供給 Travis CI，\n這樣 Travis CI 就可以擁有簽入 ( push 至 GitHub ) 的權限。</p>\n<p>當然，除了 Personal access token 外，也可以直接使用 SSH 憑證的方式，\n使用 SSH 憑證的方式，有一個好處是可以僅限定於某個 Repo，不過在 Travis CI 上的處理就會比較麻煩，\n有興趣可以參考最底下的參考連結。</p>\n<p>而 Personal access token 則會影響到所有 Repo，所以我們只提供最小的權限 ( 其實也不小了.. )。</p>\n<p>設定完後，回拿到一組 Token ，請複製下來，離開後，就永遠看不到了 XDD</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48f7aecb8d5ea0e091837a6ca789ef92/f9c26/05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABSklEQVQoz5WTi26DMAxF+f8f7dZSCOThvMjddVo6NFFtixQ5jsPJtWMG9NHgJaPUrXspJazr2u22bai19rltFT9Ha+1l9fxwBEoq3ZMQYKYJUQSRa5EIiYwfLlXAPnc/xvgNdDwc80NB8h52nhFpda5cOyqO1nXF7QSo++M4Ynj6sCG9FJYgMAx6QjJVKlDXhWrbX4Gq0EpBTRn5fsfElAtrkrWey4KF0KDAA+gc+Ew5sE6rFySqK4RZphp86I+hoEjwGexE4WNjdQHT6pE1TWthaJ1zKKXA0hem3uv3G7DrqwXmNmIaJwg3NWgW04GqUIGq8h/Aivn6idvlAnu9IlGdAirV1ZyRqK7Qqv8OqFa/eaWcckFijylcVc58mMK+ShKwsKai6WvaBLc3fajlGY7dvo9M0Hj56D2oPTnzAmcMkpaAsXeNrX/KF1AZXrUX7ajLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"05\"\n        title=\"05\"\n        src=\"/static/48f7aecb8d5ea0e091837a6ca789ef92/78d47/05.png\"\n        srcset=\"/static/48f7aecb8d5ea0e091837a6ca789ef92/56d15/05.png 200w,\n/static/48f7aecb8d5ea0e091837a6ca789ef92/d9f49/05.png 400w,\n/static/48f7aecb8d5ea0e091837a6ca789ef92/78d47/05.png 800w,\n/static/48f7aecb8d5ea0e091837a6ca789ef92/64756/05.png 1200w,\n/static/48f7aecb8d5ea0e091837a6ca789ef92/42cbc/05.png 1600w,\n/static/48f7aecb8d5ea0e091837a6ca789ef92/f9c26/05.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>接下來，小心翼翼的拿著我們複製的 Token ，回到 Travis CI，並且貼於下圖，\n並且將名稱命名為 GH_TOKEN ( 可以隨意命名 )，\n完成後就會如下圖。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f83d93d1d24fcb86e1cc005347fb13c5/f9c26/06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABbElEQVQoz21Sa2+DMAzk//+7fVulSZvWUUqhvJIADY/bXQRV+oh0iuPYd7GdpKorXJsKdV1Ddtd1sNa+hTHmrV+5QpZlSLz3WJYF67oGiLAsy5AcL92dmJDnOd4t3RdFgcSMI8ZhwDzPwelvN1jn0Pc9JHbj2XGfKErle1wMxYzkCYSOibuC1k/bITMWfpoCoQRmEREZhUb6VdGes0M+VRZK3h1an38pfk8ZBiarfKlD98TH9w/Scw7Ldkwkjh9yJ3xWWnnhWda8BT416sW1RISXywXJGgfRrtsW56JEWVWwtAW37YZorle0vOs41YETnlmB5wwWPkITT/aXBT6qtGysgnuWazaSrmlgeW5IlB6PyNIUX4cDTrTl79mCnL6WdhL3QYSz1PSV1FuBvdIrFkJnjjnASoRiE6erGIl2JH4k1BegeZstlqkMAxko4PcBRHho7bZrUC+EAxWds/yHhrsLHzxM+nl4ERD9x3/gsVqPLMVdhQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"06\"\n        title=\"06\"\n        src=\"/static/f83d93d1d24fcb86e1cc005347fb13c5/78d47/06.png\"\n        srcset=\"/static/f83d93d1d24fcb86e1cc005347fb13c5/56d15/06.png 200w,\n/static/f83d93d1d24fcb86e1cc005347fb13c5/d9f49/06.png 400w,\n/static/f83d93d1d24fcb86e1cc005347fb13c5/78d47/06.png 800w,\n/static/f83d93d1d24fcb86e1cc005347fb13c5/64756/06.png 1200w,\n/static/f83d93d1d24fcb86e1cc005347fb13c5/42cbc/06.png 1600w,\n/static/f83d93d1d24fcb86e1cc005347fb13c5/f9c26/06.png 2880w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>撰寫 travis.yml</h2>\n<p>接下來，我們只要在我們 MD source 的根目錄，加上一個 .travis.yml。\n並且內容如下：</p>\n<p>language : 的意思指的是這是哪一種語言，Hexo 基本上當然是 Node.js 嚕。\nnode<em>js : 代表要用哪一個版本。\nscript : 要執行的 script。\nafter</em>success : 完成後要執行的動作。</p>\n<p>所以簡單的說，就是先 npm install ，還原所有的 hexo 套件，\n並且使用 hexo cl ，先清除 cache。\n接著，設定完 git 的 name 和 email。\n並且使用 Linux 的 sed 指令來替換 <em>convig.yml 的佈署參數，而這邊，我們使用了 ${GH</em>TOKEN} 參數\n( 感謝<a href=\"http://lotabout.me/2016/Hexo-Auto-Deploy-to-Github/\">此篇</a>文章的大大，於文章內提供此方法 )\n最後一步，當然就是透過 hexo-deployer-git 進行佈署了。</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> node_js\n\n<span class=\"token key atrule\">node_js</span><span class=\"token punctuation\">:</span> stable\n\n<span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> npm install\n  <span class=\"token punctuation\">-</span> hexo cl\n\n<span class=\"token key atrule\">after_success</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.name \"Your Name\" \n  <span class=\"token punctuation\">-</span> git config <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>global user.email \"Your Email\"\n  <span class=\"token punctuation\">-</span> sed <span class=\"token punctuation\">-</span>i'' \"/^ <span class=\"token important\">*repo/s~github\\.com~$</span><span class=\"token punctuation\">{</span>GH_TOKEN<span class=\"token punctuation\">}</span>@github.com~\" _config.yml\n  <span class=\"token punctuation\">-</span> hexo deploy <span class=\"token punctuation\">-</span>g</code></pre></div>\n<p>完成後，我們可以 commit 一個新文章，並且 push ，基本上就會觸發了。</p>\n<h2>後記</h2>\n<p>基本上，雖然我們透過置換的方式，來將參數換成 Token ，但實際上，在 Travis CI 的 Log 裡面，\n還是可以看到置換後的 Token，未來有機會再來嘗試看看加密的方式，看看能不能解決這塊問題。</p>\n<h2>參考資料</h2>\n<ul>\n<li><a href=\"http://notes.iissnan.com/2016/publishing-github-pages-with-travis-ci/\">http://notes.iissnan.com/2016/publishing-github-pages-with-travis-ci/</a></li>\n<li><a href=\"http://www.jianshu.com/p/5e74046e7a0f\">http://www.jianshu.com/p/5e74046e7a0f</a></li>\n<li><a href=\"http://www.jianshu.com/p/e22c13d85659\">http://www.jianshu.com/p/e22c13d85659</a></li>\n<li><a href=\"https://levirve.github.io/2016/hexo-deploy-through-travisci/\">https://levirve.github.io/2016/hexo-deploy-through-travisci/</a></li>\n<li><a href=\"https://zespia.tw/blog/2015/01/21/continuous-deployment-to-github-with-travis/\">https://zespia.tw/blog/2015/01/21/continuous-deployment-to-github-with-travis/</a></li>\n<li><a href=\"http://lotabout.me/2016/Hexo-Auto-Deploy-to-Github/\">http://lotabout.me/2016/Hexo-Auto-Deploy-to-Github/</a></li>\n<li><a href=\"https://docs.travis-ci.com/user/environment-variables/#Encrypted-Variables\">https://docs.travis-ci.com/user/environment-variables/#Encrypted-Variables</a></li>\n<li><a href=\"https://docs.travis-ci.com/user/private-dependencies/\">https://docs.travis-ci.com/user/private-dependencies/</a></li>\n</ul>","excerpt":"前言 新的一年，2017 又開始了，而回顧了舊的 2016 那一年，其實文章少的可憐到一個極致，在技術的道路上，\n感覺去年也沒甚麼長進，所以在新的一年的第一天，除了陪家人走走外，大概就是要把今年重新撰寫 Blog…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Angular2 - 與 Webpack 整合環境設定 - 3","tags":["JavaScript","Angular2","Webpack","TypeScript"]},"fields":{"slug":"/2016/04/22/Angular2-Env_Setup_3/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/Angular2-Env_Setup_3/Angular2-Env_Setup_3.md"},"previous":{"frontmatter":{"path":"/example","title":"Example","tags":null},"fields":{"slug":"/example"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/example.md"}}}}