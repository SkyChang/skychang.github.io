{"componentChunkName":"component---src-templates-page-js","path":"/2012/06/16/Windows-Azure-Overview-of-Caching-in-Windows-Azure/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure - Overview of Caching in Windows Azure","date":"16 June 2012","author":"Sky Chang","excerpt":null,"tags":["Azure"],"coverImage":null},"id":"c98de49b-50d1-5427-96a7-316c30d074f3","html":"<p>這次2012年6月的Windows Azure的大更新，<a href=\"http://www.dotblogs.com.tw/regionbbs/Default.aspx\">小朱前輩</a>也很快的幫大家整理最新消息，也很感謝<a href=\"http://www.dotblogs.com.tw/regionbbs/Default.aspx\">小朱前輩的文章</a>，讓小弟能快速掌握新的Windoes Azure趨勢；而這幾天，也把部分的新功能玩了一下，並且用破破的英文加上Google翻譯XDD讀了一下文章，所以也在這邊做個筆記與整理。</p>\n<p>這次我們要看的是這裡，也就是紅色圈起來的地方。( 圖片來自<a href=\"http://msdn.microsoft.com/en-us/library/dd163896\">MSDN</a> )</p>\n<p><a href=\"http://lh5.ggpht.com/-tS9iJLoluio/T9tfEXkIvmI/AAAAAAAADMA/Vz3itV4_KpY/s1600-h/image%25255B3%25255D.png\"><img src=\"http://lh6.ggpht.com/-fhllv4rVisA/T9tfFdZNhaI/AAAAAAAADMI/NrvdQGW5yGE/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<h4>Windows Azure Caching</h4>\n<p>Caching大家應該就會直接聯想到記憶體( Memory )，當然，Windows Azure Caching也就是記憶體，不過他是一種分散式的記憶體 ( 畢竟在雲端嘛 )，而Windows Azure Caching當然就會給多台的機器做使用；講到這，我想大家應該都沒有問題，反正就是雲端用的Caching。</p>\n<p>既然如此，為啥要介紹呢?</p>\n<p>因為既然談到雲，就會有<strike>商機</strike>新技術，Windows Azure Caching當然也和一般Server的Caching架構有點不一樣嚕。</p>\n<h4>Shared Caching</h4>\n<p>Windows Azure Shared Caching是之前就活在Windows Azure下的產品，也就是貴死人不償命的產品XDD；Shared Caching不是存在於Role之中，也就是說，Shared Caching並不是存在每一個Web Role或是Work Role，而是有自己獨立的環境 ( 像Windows Azure Storage )，當我們痛心地刷下去，並且使用Shared Caching的時候，就可以使用URL來進行訪問、存取，然後就會收到貴森森的帳單。</p>\n<h4>Caching (Preview) on Roles</h4>\n<p>這裡加個Preview，就代表這是新推出的Caching機制，也是<a href=\"http://www.dotblogs.com.tw/regionbbs/archive/2012/06/10/windows.azure.spring.release.part4.caching.improvements.aspx\">小朱前輩文中</a>介紹到的新東西，我們就稱為Caching on Roles吧 ( 未來不知道會用哪個名… )；就如前面所說，Shared Caching是個貴森森的東西，並不是一般小老百姓用得起的東西；其次，對於現有程式要搬上雲端，步驟上也比較麻煩 ( 其實感覺也還好 )，所以又多了一種新的Caching，叫做Caching on Roles，而Caching on Roles和Shared Caching有甚麼不一樣呢!?其實很簡單，Caching on Roles就是使用目前的Web Role或是Work Role中的記憶體當做Caching，畢竟原本使用的Web Role和Work Role本身就有部分的記憶體了，不用白不用XDD，而微軟為了讓大家能更加平民的使用XDD，所以推出了這個機制，而Caching on Roles又稱為role-based Caching</p>\n<h4>Caching on Roles 有兩種</h4>\n<p>其實沒有想像中的複雜，第一種是co-located Caching ( 或稱為Caching on Existing Role) ，如下圖 (此圖來自<a href=\"http://weblogs.asp.net/scottgu/archive/2012/06/07/meet-the-new-windows-azure.aspx\">ScouttGu’s Blog</a>)，簡單的說，就是拿你目前使用的Web Role和Work Role的其中一部份的記憶體，來當作Cache，而這些Cache會形成一個大的分散式Cache ( 就當成大的游泳池吧=v= )，而每個Role都可以去存取這個游泳池，所以當其中一個Role將資料放到這個游泳池時，其他的Role也可以讀到資料 ( 但只限於同一個Applicaion，如果是不同的Application，當然還是讀不到 )，當然，最重要的是，它是\"免費\"的，而且可以自行的動態調整，希望使用的百分比為多少，也讓原本每台Role用不完的記憶體，有新的去處!! ( 重點是免費喔!! )( P.S 在ScouttGu的Blog，Scoutt把兩種都稱為是Distributed cache，其實這樣講也沒錯，因為都是分散式的Cache，但為了讓大家比較清楚，小弟就使用MSDN的命名吧，MSDN則是稱為co-located Caching和Distributed Caching )</p>\n<p><a href=\"http://lh4.ggpht.com/-H-afgm2WLFU/T9tfG5N96QI/AAAAAAAADMQ/owaX_mins4c/s1600-h/image%25255B7%25255D.png\"><img src=\"http://lh4.ggpht.com/-rxVXPSAFCGw/T9tfIGUsryI/AAAAAAAADMU/BwkWFOPBoGk/image_thumb%25255B3%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>第二種叫做Dedicated Caching ( 又稱 Caching on Dedicated Role )，上面是將目前Role中，部分的記憶體拿來應用，但對大型公司來說，Role本身的記憶體就已經不夠了阿，怎麼可能還拿得出來哩!?所以第二種Dedicated Caching，就是新建一個Cache Worker Role來當作記憶體，如下圖，建立了兩個12G的Cache Worker Role來當作Cache，當然，多新增加的Cache Worker Role，就要多付錢了，不過還是比貴森森的Share Caching便宜。</p>\n<p><a href=\"http://lh6.ggpht.com/-visG-WuzFlg/T9tfI2EvQZI/AAAAAAAADMc/qE16q0-dHLg/s1600-h/image%25255B12%25255D.png\"><img src=\"http://lh6.ggpht.com/-IJnxpao0Dpw/T9tfJ-J7cbI/AAAAAAAADMo/PQJv-moxGm0/image_thumb%25255B6%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>下一篇，我們來看看，原本的ASP.NET Session問題，該如何使用新的Cache架構來解決。</p>\n<h4>參考資料</h4>\n<ul>\n<li><a href=\"http://weblogs.asp.net/scottgu/archive/2012/06/07/meet-the-new-windows-azure.aspx\" title=\"http://weblogs.asp.net/scottgu/archive/2012/06/07/meet-the-new-windows-azure.aspx\">http://weblogs.asp.net/scottgu/archive/2012/06/07/meet-the-new-windows-azure.aspx</a>  <li><a href=\"http://msdn.microsoft.com/en-us/library/gg278356\" title=\"http://msdn.microsoft.com/en-us/library/gg278356\">http://msdn.microsoft.com/en-us/library/gg278356</a>  <li><a href=\"http://www.dotblogs.com.tw/regionbbs/archive/2012/06/10/windows.azure.spring.release.part4.caching.improvements.aspx\" title=\"http://www.dotblogs.com.tw/regionbbs/archive/2012/06/10/windows.azure.spring.release.part4.caching.improvements.aspx\">http://www.dotblogs.com.tw/regionbbs/archive/2012/06/10/windows.azure.spring.release.part4.caching.improvements.aspx</a></li>\n</ul>","excerpt":"這次2012年6月的Windows Azure的大更新，小朱前輩也很快的幫大家整理最新消息，也很感謝小朱前輩的文章，讓小弟能快速掌握新的Windoes Azure趨勢；而這幾天，也把部分的新功能玩了一下，並且用破破的英文加上Google翻譯XDD…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure – 安裝Windows Azure SDK 1.7 for Visual Studio 2012 RC in Win 8 RP ( DIY篇 )","tags":["Azure","Visual Studio","Windows"]},"fields":{"slug":"/2012/06/09/Windows-Azure-–-安裝Windows-Azure-SDK-1-7-for-Visual-Studio-2012-RC-in-Win-8-RP-DIY篇/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-–-安裝Windows-Azure-SDK-1-7-for-Visual-Studio-2012-RC-in-Win-8-RP-DIY篇.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Azure - 使用Windows Azure co-located Caching解決Session問題","tags":["ASP.NET","ASP.NET MVC","Azure"]},"fields":{"slug":"/2012/06/16/Windows-Azure-使用Windows-Azure-co-located-Caching解決Session問題/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-使用Windows-Azure-co-located-Caching解決Session問題.md"}}}}