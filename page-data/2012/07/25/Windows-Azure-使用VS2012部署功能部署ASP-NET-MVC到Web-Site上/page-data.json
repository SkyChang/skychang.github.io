{"componentChunkName":"component---src-templates-page-js","path":"/2012/07/25/Windows-Azure-使用VS2012部署功能部署ASP-NET-MVC到Web-Site上/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure - 使用VS2012部署功能部署ASP.NET MVC到Web Site上","date":"25 July 2012","author":"Sky Chang","excerpt":null,"tags":["ASP.NET MVC","Azure","Visual Studio"],"coverImage":null},"id":"8223fba8-6f43-526f-986e-d48ca67ee995","html":"<p><a href=\"http://blog.sanc.idv.tw/2012/07/windows-azure-web-siteswordpressjoomlad.html\">前一篇</a>我們使用Web Site來快速的部署最近流行的WordPress、Joomla、Drupal等服務，幾乎不需要動到甚麼，按一按就完成了，既輕鬆，又方便；但是我相信，一定有很多人要的不是這些應用程式，而是想把自己寫的東西放上去阿!!而原本的Cloud Service ( Web Role和Work Role )雖然非常強大，但還是要稍微的學習一下 ( 其實也沒啥學習曲線啦= = )，但當遇到老闆不停在催促的時候，就沒那麼多時間可以摸了，當然希望趕快弄完，這樣就可以輕鬆地去摸魚，喔，不是，去做更重要的工作了!!</p>\n<p>所以這次Microsoft也聽見了大家的心聲，多了一個Web Site可以快速的讓人部署上去，而且也不需要做甚麼設定，也是按一按就搞定!!</p>\n<h4>建立Web Site</h4>\n<p>首先，我們當然還是要新建立一個Web Site，因為目前這個版本在Preview，所以記得要先去官網開啟這個服務 ( 不清楚可以看<a href=\"http://blog.sanc.idv.tw/2012/07/windows-azure-web-siteswordpressjoomlad.html\">前一篇</a> )，而如果在舊的管理介面，需要切換到新的管理介面，可以參考<a href=\"http://blog.sanc.idv.tw/2012/07/windows-azure.html\">這篇</a>。</p>\n<p>首先，當然是按下New來新增。</p>\n<p><a href=\"http://lh6.ggpht.com/-omGS1VCX1M4/UBAP1m9HWbI/AAAAAAAADfE/bfQofyNsISs/s1600-h/image%25255B3%25255D.png\"><img src=\"http://lh4.ggpht.com/-z1eXorA_pUs/UBAP2YESqPI/AAAAAAAADfM/7pgo-LtgA2w/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們不再使用購物車了，要選擇Create With Database，因為ASP.NET MVC的樣板有使用到資料庫，所以我們要選擇這個；但如果今天暫時沒有要使用DB，也可以選擇Quick Create，但要注意的是，如果使用Quick Create建立出來的Web Site，未來是不能再加掛MySQL的，如果今天要使用MySQL，也別忘了要直接選擇Create With Database；其次MySQL的額度只有一個，也別忘記了，最後，這裡新開的SQL Server db也是要另外收費的，有預算限制的要注意一下。</p>\n<p><a href=\"http://lh4.ggpht.com/-Zz2pgSYA0-4/UBAP4ES3pqI/AAAAAAAADfU/iLxu2tDo14Q/s1600-h/image%25255B8%25255D.png\"><img src=\"http://lh3.ggpht.com/-aT4465nF-4M/UBAP5scQTWI/AAAAAAAADfc/ClbXVrmAZHM/image_thumb%25255B4%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>首先，我們要先設定一下Web Site，我們可以取自己想要的URL，但要特別注意，未來如果還要改URL，會有點麻煩，所以這邊要想清楚；接下來，我們選擇建立新的SQL Database，地區這邊是選擇東美，因為目前亞洲還沒有提供，最後，選擇要合約。</p>\n<p><a href=\"http://lh3.ggpht.com/-08d23WgKqMM/UBAP6IF-OvI/AAAAAAAADfk/D_XXIMG4xUs/s1600-h/image%25255B13%25255D.png\"><img src=\"http://lh6.ggpht.com/-FfUatF0X7RU/UBAP66my8-I/AAAAAAAADfs/jGJiuMxkkZU/image_thumb%25255B7%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這裡要建立SQL Server，Web和Business最大的差異，就是未來可以調整的size大小，還有費用的高低。</p>\n<p><a href=\"http://lh6.ggpht.com/-mw98RoP2HO8/UBAP7qQHzWI/AAAAAAAADf0/S4laq8BnmCo/s1600-h/image%25255B18%25255D.png\"><img src=\"http://lh3.ggpht.com/-WPOQK-QXi88/UBAP8cEp9ZI/AAAAAAAADf8/JcsZF7duNrY/image_thumb%25255B10%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這裡我們要輸日SQL Server的管理者帳號，密碼，別忘了資料庫的地區要和Web Site地區設定一樣，這樣速度才會快，也才不會有多餘的費用產生，最後記得下面要打勾，才能讓Windows Azure服務存取這個資料庫。</p>\n<p><a href=\"http://lh4.ggpht.com/-7vL6a9CJbWg/UBAP9L-rdJI/AAAAAAAADgE/yyG3zrkMTeY/s1600-h/image%25255B23%25255D.png\"><img src=\"http://lh4.ggpht.com/-_AMpJn8MCCY/UBAP_P5jQ4I/AAAAAAAADgM/Azez5szJo94/image_thumb%25255B13%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>完成後，我們就可以按下按鈕瀏覽看看。</p>\n<p><a href=\"http://lh6.ggpht.com/-l4I6u_paUug/UBAP_gFbmFI/AAAAAAAADgU/E3WnnWRJU2U/s1600-h/image%25255B28%25255D.png\"><img src=\"http://lh5.ggpht.com/-deEcgVB6Ed8/UBAQAufyVJI/AAAAAAAADgc/mV7e8dqAyZM/image_thumb%25255B16%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>預設的畫面如下圖。</p>\n<p><a href=\"http://lh3.ggpht.com/-0yCKCYZBW9M/UBAQBfJZyYI/AAAAAAAADgk/BTbk2T_guvI/s1600-h/image%25255B37%25255D.png\"><img src=\"http://lh3.ggpht.com/-QzPkntq3_JA/UBAQCcixZtI/AAAAAAAADgs/JMHogBT8wVQ/image_thumb%25255B21%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們回到Web Site的管理，並且進入剛剛選設定好的Web Site。</p>\n<p><a href=\"http://lh5.ggpht.com/-atQX4e_JeSY/UBAQDCVksnI/AAAAAAAADg0/9FsZXC6Rdcw/s1600-h/image%25255B46%25255D.png\"><img src=\"http://lh6.ggpht.com/-UiIy4Y0dido/UBAQEOGZA2I/AAAAAAAADg8/QCFDm8DJTcE/image_thumb%25255B26%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>我們這邊要下載Publish profile，這個檔案超級方便!!，我們未來可以利用Visual Studio 2012來匯入此檔案，然後我們就不需要手動設定了!!</p>\n<p><a href=\"http://lh6.ggpht.com/-MmPGynIYSOY/UBAQEoz_InI/AAAAAAAADhE/CopwuLFPl-c/s1600-h/image%25255B42%25255D.png\"><img src=\"http://lh5.ggpht.com/-TQep_Nm-heg/UBAQGgKmjZI/AAAAAAAADhM/GR6fXicpBY4/image_thumb%25255B24%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>就存到自己記得的位置吧。</p>\n<p><a href=\"http://lh3.ggpht.com/-m_Lce_evnj4/UBAQHODK2dI/AAAAAAAADhU/7d36vwdAST0/s1600-h/image%25255B51%25255D.png\"><img src=\"http://lh3.ggpht.com/-eojUYNHVyGQ/UBAQH61T6eI/AAAAAAAADhc/XdU4bqNyVKo/image_thumb%25255B29%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>到這邊，Web Site就設定完成了，下一步，我們開始利用Visual Studio 2012建立一個ASP.NET MVC專案。</p>\n<h4>建立ASP.NET MVC專案</h4>\n<p>這個畫面大家應該已經看到膩了吧XDD，但這邊特別注意一下，如果使用Visual Studio 2012建立的ASP.NET MVC專案，預設是使用.Net Framework 4.5，所以這邊我們要改回.Net Framework 4，因為目前Web Site不支援.Net Framework 4.5。</p>\n<p><a href=\"http://lh3.ggpht.com/-A7cCe1lmi5Y/UBAQIpqQJHI/AAAAAAAADhk/oK6n5wLlWec/s1600-h/image%25255B97%25255D.png\"><img src=\"http://lh5.ggpht.com/-w44EjmXCHeg/UBAQKMFQYWI/AAAAAAAADhs/OZciQGLgckQ/image_thumb%25255B57%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>選擇Internet Application專案，因為這樣Demo比較方便XDD。</p>\n<p><a href=\"http://lh5.ggpht.com/-p0NTwZZV0nY/UBAQK__xYyI/AAAAAAAADh0/Dx7qnulplk4/s1600-h/image%25255B61%25255D.png\"><img src=\"http://lh3.ggpht.com/-CZu02mcyyBs/UBAQLrgMI-I/AAAAAAAADh8/pfziqkvsffQ/image_thumb%25255B35%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們選擇這個專案，並選擇發行。</p>\n<p><a href=\"http://lh6.ggpht.com/-H3in9-WCGvU/UBAQMefE7kI/AAAAAAAADiE/dxLL50qquRQ/s1600-h/image%25255B66%25255D.png\"><img src=\"http://lh5.ggpht.com/-HDVxT3e4eLQ/UBAQNNnsl5I/AAAAAAAADiM/xevOt603TqQ/image_thumb%25255B38%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這邊選擇Import來匯入剛剛下載的Publish Profile。</p>\n<p><a href=\"http://lh6.ggpht.com/-y4UkiwbRfh8/UBAQNtiD6-I/AAAAAAAADiU/fM06TxgiLDw/s1600-h/image%25255B71%25255D.png\"><img src=\"http://lh4.ggpht.com/-eqVdbyBSsP4/UBAQOtJNUYI/AAAAAAAADic/-JXZUUE3JG4/image_thumb%25255B41%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>選擇剛剛下載的檔案!!</p>\n<p><a href=\"http://lh4.ggpht.com/-anfIXoWiRvw/UBAQPVm6HLI/AAAAAAAADik/sBrf-aCzvLA/s1600-h/image%25255B76%25255D.png\"><img src=\"http://lh5.ggpht.com/-CMMvzxTkddo/UBAQQOaEqwI/AAAAAAAADis/bq26l1bKu7s/image_thumb%25255B44%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後他就會幫你把設定全部都準備好!!超級懶人的啦!!但我超愛=v=，以前搞這個，iis也要設定，Visual Studio也要設定，然後也不知道哪裡出錯，現在，超簡單都搞定了。</p>\n<p><a href=\"http://lh5.ggpht.com/-0VpoNSvd69E/UBAQQsViB1I/AAAAAAAADi0/pXwFZ67hhXc/s1600-h/image%25255B81%25255D.png\"><img src=\"http://lh5.ggpht.com/--VPFJunmU48/UBAQRY5rfHI/AAAAAAAADi8/EPhcV42-AHc/image_thumb%25255B47%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>我們持續按下一步後，這頁是用來設定Database，基本上也不需要做甚麼，但我們可以看看，Database是否已經設定好了。</p>\n<p><a href=\"http://lh3.ggpht.com/-bQtcuTb6Mv4/UBAQTofExKI/AAAAAAAADjE/pjjdm-shXcc/s1600-h/image%25255B87%25255D.png\"><img src=\"http://lh4.ggpht.com/-qIX5BPIsWCk/UBAQUZkipnI/AAAAAAAADjM/23MYrwVKPZE/image_thumb%25255B51%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>有沒有，有沒有，通通都設定好了!!</p>\n<p><a href=\"http://lh3.ggpht.com/-i4T5YVdyXwc/UBAQWFhCupI/AAAAAAAADjU/zb4HHJ2xhX8/s1600-h/image%25255B93%25255D.png\"><img src=\"http://lh4.ggpht.com/-201IHofSt3Q/UBAQXy283oI/AAAAAAAADjc/XCzn8s63yk8/image_thumb%25255B55%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>好，High完後，我們還是要繼續，最後我們就可以選擇開始發佈，我們可以先使用Start Preview來看看有哪些檔案需要更新，然後再勇敢地按下Publish，就會順利地發佈出去了。</p>\n<p><a href=\"http://lh6.ggpht.com/-E1moCdpxtY4/UBAQYvs3rYI/AAAAAAAADjk/iGYH2Wj7Bwc/s1600-h/image%25255B156%25255D.png\"><img src=\"http://lh3.ggpht.com/-0tebIkQsEuo/UBAQamBUKYI/AAAAAAAADjs/ARwS34sGndY/image_thumb%25255B90%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>如下圖，很順利的成功了。</p>\n<p><a href=\"http://lh4.ggpht.com/--n6sc__Y2eo/UBAQbP_nTzI/AAAAAAAADj0/XSWXB7nW-W4/s1600-h/image%25255B101%25255D.png\"><img src=\"http://lh5.ggpht.com/-tK20GG17OoQ/UBAQdHXk9xI/AAAAAAAADj8/xa7cic7wTsg/image_thumb%25255B59%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>我們可以用瀏覽器看一下，熟悉的ASP.NET MVC Application就這樣部署到雲端去了!!</p>\n<p><a href=\"http://lh6.ggpht.com/-ZWdjV2Z9A6I/UBAQd0oiraI/AAAAAAAADkE/Prfbrkl3ShM/s1600-h/image%25255B110%25255D.png\"><img src=\"http://lh4.ggpht.com/-wwnXgfbuUbI/UBAQet_NKrI/AAAAAAAADkM/6mmtjMxM5PY/image_thumb%25255B64%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們測試一下資料庫，我們選擇註冊。</p>\n<p><a href=\"http://lh3.ggpht.com/-9b_ZeRQLjSc/UBAQfUNZi8I/AAAAAAAADkU/8eOIQ8uB4wE/s1600-h/image%25255B114%25255D.png\"><img src=\"http://lh3.ggpht.com/-MLV8mW2t59c/UBAQgPeaUSI/AAAAAAAADkc/Vmr2py8qgP4/image_thumb%25255B66%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後填一下資料。</p>\n<p><a href=\"http://lh4.ggpht.com/-AIQw-VHxg4Y/UBAQh5VYQMI/AAAAAAAADkk/DThx_Kyc1LE/s1600-h/image%25255B119%25255D.png\"><img src=\"http://lh6.ggpht.com/-EQLtuqJbFAw/UBAQi-DS9pI/AAAAAAAADks/3IOO1ETrRXc/image_thumb%25255B69%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>回到首頁後，可以發現資料已經輸入進去了。</p>\n<p><a href=\"http://lh5.ggpht.com/-5CcVi6gkhIo/UBAQj8HxDDI/AAAAAAAADk0/NM-wDY0nK_w/s1600-h/image%25255B123%25255D.png\"><img src=\"http://lh5.ggpht.com/-RyOx8BvBACM/UBAQkThP6LI/AAAAAAAADk8/JPbnlgWF500/image_thumb%25255B71%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們可以利用SQL Azure的線上管理工具來看看資料是否已經寫入到SQL Azure了，如果不知道這如何進入，可以<a href=\"http://blog.sanc.idv.tw/2012/07/windows-azure-sql-azure.html\">參考這篇</a>；我們進入後，選擇設計，並且按下編輯 ( 沒錯，是編輯… )。</p>\n<p><a href=\"http://lh5.ggpht.com/-IrILGXVRZnY/UBAQmUXPKrI/AAAAAAAADlE/Icse_7vU6dY/s1600-h/image%25255B150%25255D.png\"><img src=\"http://lh5.ggpht.com/-JBcNhfIRnCA/UBAQnExAidI/AAAAAAAADlM/oJF9dbqraqw/image_thumb%25255B86%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>編輯裡面有一個資料，我們可以從資料這邊查到剛剛註冊的資料!!</p>\n<p><a href=\"http://lh6.ggpht.com/-JhqV57QM0BY/UBAQn5JqoZI/AAAAAAAADlU/VZXVBY8WnhA/s1600-h/image%25255B154%25255D.png\"><img src=\"http://lh4.ggpht.com/-BlPtLasB8VY/UBAQoS3yLTI/AAAAAAAADlc/T5Gt2gE7kw8/image_thumb%25255B88%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這樣就完成了，今天也完全不用寫程式碼喔!!</p>\n<h4>後記</h4>\n<p>老實說，Web Site真的很簡單又很好用，雖然少了Cloud Service的一些功能，但對於一般使用，應該就已經很足夠了；有興趣的人，也可以自己玩玩看，完全不用寫到程式碼喔!!。</p>","excerpt":"前一篇我們使用Web Site來快速的部署最近流行的WordPress、Joomla、Drupal等服務，幾乎不需要動到甚麼，按一按就完成了，既輕鬆，又方便；但是我相信，一定有很多人要的不是這些應用程式，而是想把自己寫的東西放上去阿!!而原本的Cloud Service…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure -  在新版的管理介面設定SQL Azure的防火牆","tags":["Azure","SQL Server"]},"fields":{"slug":"/2012/07/25/Windows-Azure-在新版的管理介面設定SQL-Azure的防火牆/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-在新版的管理介面設定SQL-Azure的防火牆.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Azure - 製作自己的VM影像檔並且利用這個影像檔來產生一台新VM!","tags":["Azure"]},"fields":{"slug":"/2012/07/26/Windows-Azure-製作自己的VM影像檔並且利用這個影像檔來產生一台新VM/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-製作自己的VM影像檔並且利用這個影像檔來產生一台新VM.md"}}}}