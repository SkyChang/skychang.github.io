{"componentChunkName":"component---src-templates-page-js","path":"/2012/07/02/Windows-Azure-Windows-Azure-Cache的High-Availability/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure -  Windows Azure Cache的High Availability","date":"02 July 2012","author":"Sky Chang","excerpt":null,"tags":["Azure"],"coverImage":null},"id":"dbd7c5c1-5959-5b8d-8b94-408a6dce1566","html":"<p>在Windows Azure Cache裡面，其實也可以啟用HA，當然，啟用HA的先決條件，就是口袋夠深，小朋友夠多，但小弟這兩樣都不多QQ，所以只能用模擬器的方式玩玩看… ( 其實我也不知道該怎麼測試阿XDD，有想到測試辦法的人，可以在和小弟說… )，OK，我們接下來看看，Windows Azure Cache的HA架構。</p>\n<h4>High Availability</h4>\n<p>甚麼是HA!?，簡單的說，就是架設兩台以上的機器，如果其中一台掛掉，還是可以正常運作，所以High Availability的中文，就稱為高可用性；而新的Windows Azure Cache，Caching on Roles就提供了HA的功能。 ( 舊的Shared Cache是不提供的。 )</p>\n<h4>Windows Azure Cache HA</h4>\n<p>不知道大家還記不記得Fault Domain ( 該怎麼翻- -?..故障域!? )；在雲端中的資料中心，數量是非常大的，所以會將Datacenter進行劃分，而每一區塊就稱之為Fault Domain；而原本的Windows Azure Cache，則只會放一份在Fault Domain裡面，而如果啟用了Windows Azure Cache HA，就會將備份的副本，放到不同的Fault Domain裡面，以提高可用性；而Cache Cluster Manages會管理這些副本，當錯誤發生的時候，會自動地去處理；而最重要最重的是，你不需要更動任何的程式碼!!，你只要有很多小朋友=v=。</p>\n<p>既然是高可用性，那自然需要多個的實體，每個Copy備份出來的cached item都會存在一個單獨的實例，而這個實例屬於不同的fault domain，如果其中的instance當掉了，就不用擔心了，因為還有其他的備份在其他的instance，所以，當使用HA架構，必須要設定3個Instance給Cache。( 官方文件並沒有提到為何要3個，這部分可能是因為跟隨著雲端架構，雲端的基本架構是需要放置三份資料到不同的地方。 )</p>\n<h4>啟動Windows Azure Cache HA</h4>\n<p>其實啟動Windows Azure Cache HA很簡單，我們只要在Azure的專案裡面，進入設定，我們要先設定Caching，並把Caching啟動起來，然後在線面的Backup Copies設定為1。</p>\n<p><a href=\"http://lh5.ggpht.com/-lC0zqK5lHNY/T_G4MFjvfrI/AAAAAAAADWM/FKG0LwsInHc/s1600-h/image%25255B7%25255D.png\"><img src=\"http://lh6.ggpht.com/-Ohyh_rW9sH0/T_G4NRSb13I/AAAAAAAADWU/v0mMVQ-CUxE/image_thumb%25255B3%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，把instance設定成3個。</p>\n<p><a href=\"http://lh6.ggpht.com/-go7neolOA9M/T_G4Ofl_GSI/AAAAAAAADWY/saKf80w6Zkg/s1600-h/image%25255B16%25255D.png\"><img src=\"http://lh4.ggpht.com/-BvzwoMEgMME/T_G4PD-KGII/AAAAAAAADWg/Tww-i2eiVlg/image_thumb%25255B8%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這樣就大功告成了。</p>\n<h4>後記</h4>\n<p>這個部分也是從MSDN裡面看來的，但真的不知道怎樣實驗，所以如果有錯誤，或是不正確的觀念，也煩請和小弟說喔=V=，謝謝。</p>\n<h4>參考資料</h4>\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/hh914162\" title=\"http://msdn.microsoft.com/en-us/library/hh914162\">http://msdn.microsoft.com/en-us/library/hh914162</a></li>\n</ul>","excerpt":"在Windows Azure Cache裡面，其實也可以啟用HA，當然，啟用HA的先決條件，就是口袋夠深，小朋友夠多，但小弟這兩樣都不多QQ，所以只能用模擬器的方式玩玩看… ( 其實我也不知道該怎麼測試阿XDD，有想到測試辦法的人，可以在和小弟說… )，OK…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure -  將使用SQL Server Express的舊專案轉移到LocalDB","tags":["Azure","SQL Server","Visual Studio"]},"fields":{"slug":"/2012/06/22/Windows-Azure-將使用SQL-Server-Express的舊專案轉移到LocalDB/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-將使用SQL-Server-Express的舊專案轉移到LocalDB.md"},"previous":{"frontmatter":{"path":null,"title":"選上MVP，不是我一個人的!謝謝大家!","tags":["Sky的IT碎碎念"]},"fields":{"slug":"/2012/07/03/選上MVP，不是我一個人的-謝謝大家/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/選上MVP，不是我一個人的-謝謝大家.md"}}}}