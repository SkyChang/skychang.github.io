{"componentChunkName":"component---src-templates-page-js","path":"/2012/08/12/Windows-Azure-使用TFS部署，發生Service-Definition-build-csdef存取拒絕的錯誤/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure -  使用TFS部署，發生Service.Definition.build.csdef存取拒絕的錯誤","date":"12 August 2012","author":"Sky Chang","excerpt":null,"tags":["Azure","TFS"],"coverImage":null},"id":"59a170b0-f2ac-556e-bd2a-222f92547253","html":"<p>Windows Azure的Web Site和Cloud Service有一個非常棒的功能，就是可以把Team Foundation Service的檔案，直接部署上去，但這次部署的時候，發生了一個錯誤，下面是錯誤訊息。</p>\n<blockquote>\n<p>C:\\Program Files (x86)\\MSBuild\\Microsoft\\VisualStudio\\v11.0\\Windows Azure Tools\\1.7\\Microsoft.WindowsAzure.targets (3187): Unable to copy file \"ServiceDefinition.csdef\" to \"ServiceDefinition.build.csdef\". Access to the path 'ServiceDefinition.build.csdef' is denied. </p>\n</blockquote>\n<p>這個是錯誤訊息截圖，沒錯，這個錯誤就是要將ServiceDefiontion.csdef複製一份成ServiceDefinition.build.csdef時，沒辦法進行存取。</p>\n<p><a href=\"http://lh4.ggpht.com/-o15HaHiRxVg/UCdzwDLou3I/AAAAAAAADqk/tInDMJm7RFs/s1600-h/image6%25255B1%25255D.png\"><img src=\"http://lh6.ggpht.com/-HqW5omsirvE/UCdzznVQrfI/AAAAAAAADqs/CB7Sb8PMQ68/image6_thumb.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>網路上也有找到人家說，可能是ServiceDefinition.build.csdef被設定成唯讀，但小弟我這次有檢查過，其實這個檔案沒設定成唯讀，而且就算把本機的ServiceDefinition.build.csdef砍掉也沒用!!後來去看了Log才知道，原來指的是簽入到Team Foundation Service的檔案，而不是本機上的檔案= =|||。</p>\n<p>好，我們在把問題整理一下，從上面的訊息可以知道，使用Team Foundation Service來自動建置的時候，Team Foundation Service會自動的將ServiceDefinition.csdef拷貝一份成ServiceDefinition.build.csdef，而因為ServiceDefinition.build.csdef被我們上傳一份到Team Foundation Service，所以當Team Foundation Service處理這個動作的時候，會因為ServiceDefinition.build.csdef已經存在而發生錯誤，所以知道問題後，解決方法其實很簡單，只需要把ServiceDefinition.build.csdef從Team Foundation Service的版控砍掉就可以了 ( 本機砍掉是沒有意義的喔@@ )</p>\n<p>我們使用VS2012的版控，並且在Windows Azure的專案目錄下 ( 下圖是Study4TwAzure這個目錄下 )，可以找到ServiceDefinition.build.csdef這個檔案。</p>\n<p><a href=\"http://lh6.ggpht.com/-Oq5dC4ZVQHY/UCdz148zQ9I/AAAAAAAADq0/7n4bgtLlC1s/s1600-h/image13.png\"><img src=\"http://lh6.ggpht.com/-VXU5o-Qr8V0/UCdz2vtga5I/AAAAAAAADq8/2lpvwcRnduE/image_thumb5.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後我們就勇敢的砍掉吧!!</p>\n<p><a href=\"http://lh4.ggpht.com/-ZhibjgTMyCs/UCdz3x2ddtI/AAAAAAAADrE/LvbrUfDqeeU/s1600-h/image19.png\"><img src=\"http://lh3.ggpht.com/-B3JmrxRvvpQ/UCdz4lwF83I/AAAAAAAADrM/WbMN8FWjwc8/image_thumb9.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>砍掉完後，也不要忘記簽入進去。</p>\n<p><a href=\"http://lh5.ggpht.com/-SekZXQfSBDo/UCdz5FUBocI/AAAAAAAADrU/2y0XWxzXYzw/s1600-h/image23.png\"><img src=\"http://lh4.ggpht.com/-pRvOwExhvbc/UCdz74b1tYI/AAAAAAAADrc/8W6DmsIiXcI/image_thumb11.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>輸入一下註解，並且簽入。</p>\n<p><a href=\"http://lh5.ggpht.com/-MxeVhhwIDx8/UCdz8RuI6lI/AAAAAAAADrk/iPgWDrm8_Bk/s1600-h/image27.png\"><img src=\"http://lh3.ggpht.com/-xWuqs_y5LTo/UCdz9ADzq5I/AAAAAAAADrs/RgHij35v1F8/image_thumb13.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>再次執行就可以了!!</p>\n<h4>後記</h4>\n<p>這只是個小小的問題，但如果不小心碰到的人，還是會遇到一點挫折，所以把他po出來，讓未來有遇到的人，可以有個方向，謝謝大家!~</p>","excerpt":"Windows Azure的Web Site和Cloud Service有一個非常棒的功能，就是可以把Team Foundation Service的檔案，直接部署上去，但這次部署的時候，發生了一個錯誤，下面是錯誤訊息。 C:\\Program Files (x8…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure - 製作自己的VM影像檔並且利用這個影像檔來產生一台新VM!","tags":["Azure"]},"fields":{"slug":"/2012/07/26/Windows-Azure-製作自己的VM影像檔並且利用這個影像檔來產生一台新VM/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-製作自己的VM影像檔並且利用這個影像檔來產生一台新VM.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Azure - 透過Team Foundation Service部署網站到Azure","tags":["Azure","TFS","Visual Studio"]},"fields":{"slug":"/2012/08/12/Windows-Azure-透過Team-Foundation-Service部署網站到Azure/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-透過Team-Foundation-Service部署網站到Azure.md"}}}}