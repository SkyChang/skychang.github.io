{"componentChunkName":"component---src-templates-page-js","path":"/2012/04/22/SQL-Azure-使用SSIS將SQL-Azure的資料複製到Local/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"SQL Azure - 使用SSIS將SQL Azure的資料複製到Local","date":"22 April 2012","author":"Sky Chang","excerpt":null,"tags":["Azure","SQL Server","Tools"],"coverImage":null},"id":"b9f5a4f9-bfc8-5ae6-bfb5-10294a44f063","html":"<p>因為之前資料移到到SQL Azure去了之後，就把整個DB砍掉了，但本地端開發的時候，還是不太可能無時無刻都連著SQL Azure，所以，這次的目的是把SQL Azure的資料庫移回Local，而這次，我們使用簡單好用的SSIS工具，來達成我們這次的任務。</p>\n<p>當然，或許SQL Server大師們還有更好的方法也說不定，但小弟畢竟不是SQL Server大師，所以這篇也還是站在紀錄的角度，大家有興趣看看就好=v=；其次，或許有人會說，為何不直接同步!?的確，這也是一個方法，但同步要和SQL Azure同步的SQL Server還沒裝起來阿XDD，而且，這次移動的資料，主要是要放到筆電上面，方便小弟我無聊時，可以躺著開發程式。( 好啦，我承認前面很多都是藉口，其實是因為沒玩過SSIS，也想利用這個機會試試看QQ )</p>\n<p>首先，我們當然是要先在Local增加一個資料庫，既然現在最流行的話題是SQL Server 2012，所以我們的SSMS當然也是要用2012版本嚕!</p>\n<p><a href=\"http://lh5.ggpht.com/-LsDEMa4fKJg/T5Qlor5ehRI/AAAAAAAACZ0/mRworg5YSik/s1600-h/image%25255B4%25255D.png\"><img src=\"http://lh5.ggpht.com/-FHZSUAPNi5M/T5QlpjvOFAI/AAAAAAAACZ8/Nr7ftxibl9Q/image_thumb%25255B2%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>下一步，當然是要Key一下資料庫的名稱。</p>\n<p><a href=\"http://lh3.ggpht.com/-jw5wynKM6VY/T5Qlq6HrIGI/AAAAAAAACaE/yA1umniiJ8Q/s1600-h/image%25255B9%25255D.png\"><img src=\"http://lh6.ggpht.com/-bhjsCdUAQtE/T5QlrxRiQ8I/AAAAAAAACaM/jXutL081fFM/image_thumb%25255B5%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，在建立之前，我們要改一下這個資料庫的定序，但我不確定是否要改成SQL<em>Latin1</em>General<em>CP1</em>CI_AS，但因為目前SQL Azure上面都是使用這個定序，所以為了統一，我就改了。</p>\n<p><a href=\"http://lh6.ggpht.com/-HOMJXIN56EQ/T5Qls9g2F-I/AAAAAAAACaU/URF4VARcMiA/s1600-h/image%25255B15%25255D.png\"><img src=\"http://lh5.ggpht.com/-bZHFi97IVBo/T5QluISIhTI/AAAAAAAACac/_lQguMusnxA/image_thumb%25255B9%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後，我們選擇建好的DB，並且選匯入資料。</p>\n<p><a href=\"http://lh6.ggpht.com/-E9P6lLiI0bE/T5QlvM9deLI/AAAAAAAACak/-sUeuJ_aFkE/s1600-h/image%25255B21%25255D.png\"><img src=\"http://lh3.ggpht.com/-xVadIGddSoo/T5Qlwi1kYPI/AAAAAAAACas/lmygCwa2TX0/image_thumb%25255B13%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>鏘鏘!，就會出現SQL Server 匯入和匯出精靈的畫面嚕!</p>\n<p><a href=\"http://lh5.ggpht.com/-NveothqMs-0/T5Qlx3mlPSI/AAAAAAAACa0/LBu3i8ekE9I/s1600-h/image%25255B25%25255D.png\"><img src=\"http://lh6.ggpht.com/-1MBUkJu_olM/T5QlyyvyprI/AAAAAAAACa8/fF4AULDL1eo/image_thumb%25255B15%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，資料來源要選擇.Net Framework Data Provider for SqlServer，並且填入連接字串，這邊的連接字串要注意，看看密碼有沒有打進去。</p>\n<p><a href=\"http://lh4.ggpht.com/-8uttvjZu5PM/T5QlzxbEDuI/AAAAAAAACbE/tF1n4bu1png/s1600-h/image%25255B30%25255D.png\"><img src=\"http://lh6.ggpht.com/-iGzliexx0RY/T5Ql1ergbBI/AAAAAAAACbM/AJdYU3ZlWkw/image_thumb%25255B18%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>連接字串可從這邊找到，當然，這個畫面有很多不可告人的祕密，所以全被小弟塗白了，另外，因為Silverlight的右鍵是沒有用的，所以可以使用Ctrl+C的方式來複製連線字串，當然，如果全部想要自己打，我也沒意見=V=。</p>\n<p><a href=\"http://lh5.ggpht.com/-Gl3iz734vuU/T5Ql2kASP-I/AAAAAAAACbU/EQylqC_bfqw/s1600-h/image%25255B34%25255D.png\"><img src=\"http://lh4.ggpht.com/-32xS5iB8tGU/T5Ql34T4hiI/AAAAAAAACbc/R_6jypHMp7U/image_thumb%25255B20%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後我們選一下目的的伺服器，和目的的資料庫。</p>\n<p><a href=\"http://lh6.ggpht.com/-3YL8IlOjVTQ/T5Ql44sqGWI/AAAAAAAACbk/mgRaVT2Wi8Q/s1600-h/image%25255B45%25255D.png\"><img src=\"http://lh6.ggpht.com/-rj0dfJVjCxU/T5Ql6Cits9I/AAAAAAAACbs/iOTQPRwhJSE/image_thumb%25255B27%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>當然，這邊就看要傳送那些資料了，因為我是全部都要傳下來，所以這邊我是選擇第一個選項。</p>\n<p><a href=\"http://lh5.ggpht.com/-kbaG3LQo0xs/T5Ql7AGQqcI/AAAAAAAACb0/yTYsZi8p-08/s1600-h/image%25255B44%25255D.png\"><img src=\"http://lh5.ggpht.com/-P5snBxkVZHM/T5Ql816Ro2I/AAAAAAAACb8/kmx5Uh29WrA/image_thumb%25255B26%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後確定一下資訊，我們也可以預覽一下。</p>\n<p><a href=\"http://lh4.ggpht.com/-tE-JnbfjknY/T5Ql97HgkuI/AAAAAAAACcE/n-inuLbY0ng/s1600-h/image%25255B50%25255D.png\"><img src=\"http://lh3.ggpht.com/-W70zmdXGKuE/T5Ql_N_iyqI/AAAAAAAACcM/HNX6I9rhN84/image_thumb%25255B30%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>到這邊，就剩下最後確認了。</p>\n<p><a href=\"http://lh3.ggpht.com/-cWmiq9YhMCM/T5QmAASCPUI/AAAAAAAACcU/v39TpUAToys/s1600-h/image%25255B56%25255D.png\"><img src=\"http://lh4.ggpht.com/-hVJgdbBD1xs/T5QmBMa7bcI/AAAAAAAACcc/F43kEJdNbUI/image_thumb%25255B34%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後就會開始執行，我們就可以看著綠色圈圈轉啊轉。</p>\n<p><a href=\"http://lh4.ggpht.com/-3qZS0bki6mM/T5QmCP3_z5I/AAAAAAAACck/_wGM158BJfM/s1600-h/image%25255B62%25255D.png\"><img src=\"http://lh3.ggpht.com/-1imiRhOiMTQ/T5QmDg744cI/AAAAAAAACcs/0aKB8Ywx4qI/image_thumb%25255B38%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>到這邊，就成嚕!!當然還有其他的方法也可以達成，這篇就給大家當作一個參考吧。</p>\n<h4>參考資料</h4>\n<p><a href=\"http://stackoverflow.com/questions/5475306/copy-sqlazure-database-to-local-development-database\" title=\"http://stackoverflow.com/questions/5475306/copy-sqlazure-database-to-local-development-database\">http://stackoverflow.com/questions/5475306/copy-sqlazure-database-to-local-development-database</a></p>","excerpt":"因為之前資料移到到SQL Azure去了之後，就把整個DB砍掉了，但本地端開發的時候，還是不太可能無時無刻都連著SQL Azure，所以，這次的目的是把SQL Azure的資料庫移回Local，而這次，我們使用簡單好用的SSIS工具，來達成我們這次的任務。 當然，或許SQL…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure - 使用Windows Azure Storage解決Sessios問題","tags":["ASP.NET","Azure"]},"fields":{"slug":"/2012/04/21/Windows-Azure-使用Windows-Azure-Storage解決Sessios問題/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-使用Windows-Azure-Storage解決Sessios問題.md"},"previous":{"frontmatter":{"path":null,"title":"ASP.NET MVC -  在Windows Azure使用TempData要小心!","tags":["ASP.NET MVC","Azure"]},"fields":{"slug":"/2012/05/09/ASP-NET-MVC-在Windows-Azure使用TempData要小心/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/ASP-NET-MVC-在Windows-Azure使用TempData要小心.md"}}}}