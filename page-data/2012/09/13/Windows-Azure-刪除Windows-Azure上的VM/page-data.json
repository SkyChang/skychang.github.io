{"componentChunkName":"component---src-templates-page-js","path":"/2012/09/13/Windows-Azure-刪除Windows-Azure上的VM/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure - 刪除Windows Azure上的VM","date":"13 September 2012","author":"Sky Chang","excerpt":null,"tags":["Azure"],"coverImage":null},"id":"e3da4218-89da-5d00-855e-c8af225c9fc9","html":"<p>或許大家會說，刪除Windows Azure這有甚麼難的，不就按下Delete就好了嗎??的確，按下Delete就可以簡單的刪除掉Virtual Machine這個服務，但初學者可能會常常忽略掉，當按下刪除，其實Windows Azure他只有把服務給刪除，但是提供這個服務的Disk其實是還存著的，而且也會使用到Storage的空間。</p>\n<p>我們可以從Virtual Machines的DISKS進去看到，deleteVM-deleteVM-0xxxx這個Disk其實是ATTACHED to(連結至) deleteVM 這個VM，而這個Dsik的型別是OS Disk，也就是存放著作業系統用。</p>\n<p><a href=\"http://lh4.ggpht.com/-UslAgM1KL8A/UFHx1n_819I/AAAAAAAAEtE/uBEG21L5uD8/s1600-h/image%25255B12%25255D.png\"><img src=\"http://lh6.ggpht.com/-rVfXTzwWJ4c/UFHx27oFKuI/AAAAAAAAEtM/yrKV1l10m5A/image_thumb%25255B6%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>當然，這個Disk的本質就是一個VHD檔案，存放在Storage裡面，所以我們可以從Storage的管理裡面發現到這個VHD。( 不知道怎麼進去的人，也沒關係，等下講解如何刪除的時候，就會有詳細的進入步驟了，這邊只是讓大家理解，VM Server他的檔案放置原理。 )</p>\n<p><a href=\"http://lh3.ggpht.com/-0Dwe_FdU_sk/UFHx4NpxqeI/AAAAAAAAEtQ/hhd880NOf6U/s1600-h/image%25255B11%25255D.png\"><img src=\"http://lh3.ggpht.com/-bcziDhs0buo/UFHx5AsNMSI/AAAAAAAAEtc/uNoSziEekQI/image_thumb%25255B5%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>現在我們回頭來回顧一下，應該就能理解，當我們建立一個新的VM的時候，就是會在Storage建立一個VHD的檔案，而這個檔案會關連到Virtual Machine Service裡面，變成Disk，而最後，Virtual Machine Service在Cloud Service上，使用剛剛建立好的Disk來跑VM。</p>\n<p>所以當我們按下刪除的時候，其實也只有刪除Virtual Machine Service，但其實Disk、Cloud Service、Storage也都還存在，所以也要一步一步地把這些東西給刪除掉\n( 其次，還有一種可能，小弟印象中，就算停止VM，也還是會被收費的，所以如果今天真的有很長一段時間不需要用到，就可以先刪除VM Service，但是因為此時的Disk都還保留著，所以當需要的時候，又可以重新建立起來；但這樣做的話有幾點需要注意，第一，Storage是會被持續收費的，第二，重新佈署後，ip位置就會不一樣了。)</p>\n<p>現在，我們看一下，如何完整刪除Virtual Machine的步驟。</p>\n<p>首先，我們要點一下，想要刪除的VM，並按下下方的刪除按鈕。</p>\n<p><a href=\"http://lh4.ggpht.com/-UMmyQ1KKpcw/UFHx6jlALLI/AAAAAAAAEtk/GKb5f-bUO1E/s1600-h/image%25255B18%25255D.png\"><img src=\"http://lh5.ggpht.com/-o1LJrYhvjng/UFHx7holZKI/AAAAAAAAEts/QFETuygMEJw/image_thumb%25255B10%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>等過一段時間後，VM Service就會刪除了，題外話，此時的Disk是還存在的，所以如果想要把VM救回來，還是可以從My DISKS這邊救回來的。</p>\n<p><a href=\"http://lh4.ggpht.com/-jfTzVgQUTEY/UFHx9PpelgI/AAAAAAAAEt0/cIHECVaZkFA/s1600-h/image%25255B33%25255D.png\"><img src=\"http://lh6.ggpht.com/--98Temp0P3E/UFHx-dtbQOI/AAAAAAAAEt8/KytAnTUyn1g/image_thumb%25255B19%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>回到主題，現在我們從Virtual Machine Service，Disk進去看，還是可以發現剛剛的deleteVM還存在( 眼睛厲害的人，可能會發現，剛剛已經把VM Service刪除掉了，為什麼左邊的圖示下面還有\"1”這個數字?，那是因為實際上，小弟還有一個VM服務正在跑，只是截圖的時候，把它塗白了。 )</p>\n<p><a href=\"http://lh4.ggpht.com/-CzAbT_biV80/UFHx_js89gI/AAAAAAAAEuE/aS838Gu_MUg/s1600-h/image%25255B38%25255D.png\"><img src=\"http://lh3.ggpht.com/-NrO5iZOdKKc/UFHyBsJ_veI/AAAAAAAAEuM/nljkxekzZ3Q/image_thumb%25255B22%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們就可以用從Delete Disk的按鈕，來刪除Disk。</p>\n<p>10/9更新，目前新版本的這裡，會多一個選項，可以選擇是否完全刪除，或是只刪除Disk，請看<a href=\"http://blog.sanc.idv.tw/2012/10/windows-azure-windows-azurevm-10.html\">這邊</a>。</p>\n<p><a href=\"http://lh4.ggpht.com/-2CPjYLEFb0E/UFHyOBYWTeI/AAAAAAAAEuU/dD3263s7S_0/s1600-h/image%25255B43%25255D.png\"><img src=\"http://lh5.ggpht.com/-hUNtvecR_WM/UFHyOxssx7I/AAAAAAAAEuc/YLU0u2gtmSE/image_thumb%25255B25%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>題外話，這時候如果還要使用這個Disk做建立，就會找不到了，因為此Disk已經被我們刪除了。</p>\n<p><a href=\"http://lh4.ggpht.com/-YnxkjA1bcDY/UFHyP5pzeCI/AAAAAAAAEuk/TFHF8XGlQAY/s1600-h/image%25255B48%25255D.png\"><img src=\"http://lh6.ggpht.com/-JKCrEocYXMg/UFHyREjIZjI/AAAAAAAAEus/I4t5mKaKbZU/image_thumb%25255B28%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>繼續題外話，這時候也不是說完全沒救，就如前面說的，雖然我們刪除了Disk，但實際的VHD還是存在Storage裡面，所以我們還是可以從下圖的位置，來建立回Disk。</p>\n<p><a href=\"http://lh4.ggpht.com/-LZ7GcuO-2To/UFHyRy83niI/AAAAAAAAEu0/W-qr1gumy_4/s1600-h/image%25255B53%25255D.png\"><img src=\"http://lh3.ggpht.com/-A47OTMIicqo/UFHyTDjZfeI/AAAAAAAAEu8/Z9C3h9Y2GCg/image_thumb%25255B31%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>這邊Name要取一下，會用在Disk畫面上，然後我們可以透過資料夾按鈕，來挑選我們存放Windows Azure Storage的VHD；因為是作業系統，所以一定要打勾；最後，也因為這個作業系統是Windows，所以最下面要選擇Windows，然後按下打勾，就會建立Disk回來。</p>\n<p><a href=\"http://lh4.ggpht.com/-pGE6kFrrS-c/UFHyUBK6JSI/AAAAAAAAEvE/OdhXh59RAlY/s1600-h/image%25255B57%25255D.png\"><img src=\"http://lh3.ggpht.com/-bB__BT1e-gY/UFHyVEHNmzI/AAAAAAAAEvM/x3ZuEqvocwA/image_thumb%25255B33%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>最後的題外話，這時後，我們就可以從新建立VM了。</p>\n<p><a href=\"http://lh4.ggpht.com/-e-z_HPFexnw/UFHyWJn2NlI/AAAAAAAAEvU/Ueo11ctK7ew/s1600-h/image%25255B62%25255D.png\"><img src=\"http://lh3.ggpht.com/-zsPx4FWPDr8/UFHyXDxBsWI/AAAAAAAAEvc/IIJ_XgPyBQA/image_thumb%25255B36%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>再度回到主題，( 很抱歉，跳來跳去，大家就全面啟動這部電影吧… )，當Disk刪除之後，我們繼續往下做，其實就如剛剛所說，Virtual Machine Service會建立一個Cloud Service，但如果VM Service沒有刪除，是看不到這個Cloud Service的，而雖然刪除了VM Service，Cloud Service就變成空的了，也不會有甚麼影響，但礙於美觀因素，我還是會把他刪除。當然，不知道未來Windows Azure會不會自動幫我們刪除就是了；選擇Cloud Services，然後點進去。</p>\n<p><a href=\"http://lh4.ggpht.com/-ZxqNW13wa8E/UFHyYBH63uI/AAAAAAAAEvk/O-vqp1AMzbM/s1600-h/image%25255B66%25255D.png\"><img src=\"http://lh3.ggpht.com/-XnPZ_XO2I0E/UFHyY40WjbI/AAAAAAAAEvs/jAJ8qt-G3I4/image_thumb%25255B38%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>進入後，我們可以發現這個Cloud Service是空的，我們可以直接使用下面的Delete 按鈕來刪除。</p>\n<p><a href=\"http://lh6.ggpht.com/-bRLURpECWzs/UFHyZziRgII/AAAAAAAAEv0/NJn9bCjL8Eg/s1600-h/image%25255B70%25255D.png\"><img src=\"http://lh5.ggpht.com/-WveSD8SDo1U/UFHya2CgAKI/AAAAAAAAEv8/eYnQbk6CTJw/image_thumb%25255B40%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>刪除礙眼的Cloud Service XDD後，我們就可以開始刪除Storage裡面的VHD了，要記住，Windows Azure沒有資源回收桶阿!!，刪除了就Bye Bye了；從Storage點進去，如果有多個Storage，也可以自己找找看，看放到哪一個Storage裡面了。</p>\n<p><a href=\"http://lh3.ggpht.com/-GJw9N8euF0I/UFHyb2_-JRI/AAAAAAAAEwE/eEJZdBbDB2k/s1600-h/image%25255B77%25255D.png\"><img src=\"http://lh5.ggpht.com/-oV3CmGiJm1g/UFHyc5fQ-BI/AAAAAAAAEwM/YXuJw2XJW-s/image_thumb%25255B43%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後，進入vhds目錄裡面。</p>\n<p><a href=\"http://lh4.ggpht.com/-QY2NkpIUE5w/UFHyd_CfO8I/AAAAAAAAEwU/jHg-Lwgvy6c/s1600-h/image%25255B81%25255D.png\"><img src=\"http://lh4.ggpht.com/-sISX7LDrTOU/UFHyfFXqznI/AAAAAAAAEwc/aOxVLZnQ844/image_thumb%25255B45%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>就可以發現這次我們要準備刪除的vhd檔案了!!，按下刪除就可以了!!</p>\n<p><a href=\"http://lh4.ggpht.com/-oGckhVvjujM/UFHygOJu4DI/AAAAAAAAEwk/Ad4RQ0iG2do/s1600-h/image%25255B86%25255D.png\"><img src=\"http://lh5.ggpht.com/-Wsipo08oXHM/UFHyhNkX80I/AAAAAAAAEws/AXvNfIZKYwA/image_thumb%25255B48%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>全部刪除完後，這篇文章也告一個段落了。</p>\n<h4>後記</h4>\n<p>這些是一些小小眉眉角角的地方，第一次使用的人，相信一定不知道還要刪除那麼多地方，但是看過一次後，我想大概大家都不會有甚麼問題了，也希望這篇，能讓大家對於VM Service有更多的了解!!</p>","excerpt":"或許大家會說，刪除Windows Azure這有甚麼難的，不就按下Delete就好了嗎??的確，按下Delete就可以簡單的刪除掉Virtual Machine這個服務，但初學者可能會常常忽略掉，當按下刪除，其實Windows Azure…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure - 使用Mobile Service來處理行動裝置APP的Data","tags":["Azure","Windows Store App"]},"fields":{"slug":"/2012/09/05/Windows-Azure-使用Mobile-Service來處理行動裝置APP的Data/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-使用Mobile-Service來處理行動裝置APP的Data.md"},"previous":{"frontmatter":{"path":null,"title":"Microsoft TechDays 2012","tags":["Sky的IT碎碎念"]},"fields":{"slug":"/2012/09/24/Microsoft-TechDays-2012/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Microsoft-TechDays-2012.md"}}}}