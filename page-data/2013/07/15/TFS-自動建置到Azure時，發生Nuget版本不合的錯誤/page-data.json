{"componentChunkName":"component---src-templates-page-js","path":"/2013/07/15/TFS-自動建置到Azure時，發生Nuget版本不合的錯誤/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"TFS -  自動建置到Azure時，發生Nuget版本不合的錯誤","date":"15 July 2013","author":"Sky Chang","excerpt":null,"tags":["Azure","NuGet","TFS"],"coverImage":null},"id":"e03b4287-9403-52b6-a626-f541e1168bd0","html":"<p>之前因為Team Foundation Service上面沒有最新的Azure SDK，所以就把CI的功能關掉，而今天心血來潮，把它重新啟動的時候，就發生了如下的錯誤，建置失敗…</p>\n<p><a href=\"http://lh6.ggpht.com/-FeNSDYPKXJ8/UeL4glUhK5I/AAAAAAAAGrM/j3uvR766Et4/s1600-h/image%25255B3%25255D.png\"><img src=\"http://lh3.ggpht.com/-lTTvXNoDG9c/UeL4htsWQrI/AAAAAAAAGrU/7brbqiBGGuA/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>錯誤訊息如下，還滿長的，但主要是在敘說，我現在的NuGet版本是1.8，已經太舊了。</p>\n<blockquote>\n<p>Debug | Any CPU\n4 個錯誤，0 個警告\n$/Study4/Main/Source/Study4/Study4.sln ('Other\\Study4<em>Azure:Publish' 個目標) - 4 個錯誤，0 個警告，檢視記錄檔\nC:\\a\\src\\Study4\\Main\\Source\\Study4.nuget\\nuget.targets (58): The schema version of 'Microsoft.Bcl' is incompatible with version 1.8.30604.0 of NuGet. Please upgrade NuGet to the latest version from <a href=\"http://go.microsoft.com/fwlink/?LinkId=213942\">http://go.microsoft.com/fwlink/?LinkId=213942</a>.\nC:\\a\\src\\Study4\\Main\\Source\\Study4.nuget\\nuget.targets (58): The schema version of 'Microsoft.Bcl.Build' is incompatible with version 1.8.30604.0 of NuGet. Please upgrade NuGet to the latest version from <a href=\"http://go.microsoft.com/fwlink/?LinkId=213942\">http://go.microsoft.com/fwlink/?LinkId=213942</a>.\nC:\\a\\src\\Study4\\Main\\Source\\Study4.nuget\\nuget.targets (58): One or more errors occurred.\nC:\\a\\src\\Study4\\Main\\Source\\Study4.nuget\\nuget.targets (58): The command \"\"C:\\a\\src\\Study4\\Main\\Source\\Study4.nuget\\nuget.exe\" install \"C:\\a\\src\\Study4\\Main\\Source\\Study4\\Webs\\Study4.Web\\packages.config\" -source \"\" -o \"C:\\a\\src\\Study4\\Main\\Source\\Study4\\packages\"\" exited with code 1.\n$/Study4/Main/Source/Study4/Study4.sln 已編譯\n$/Study4/Main/Source/Study4/Study4.sln ('Other\\Study4</em>Azure:Publish' 個目標) - 4 個錯誤，0 個警告，檢視記錄檔\n沒有測試結果\n沒有程式碼涵蓋範圍結果\n其他錯誤和警告\n1 個錯誤，0 個警告\nException Message: MSBuild error 1 has ended this build. You can find more specific information about the cause of this error in above messages. (type BuildProcessTerminateException)\nException Stack Trace:    at System.Activities.Statements.Throw.Execute(CodeActivityContext context)\n   at System.Activities.CodeActivity.InternalExecute(ActivityInstance instance, ActivityExecutor executor, BookmarkManager bookmarkManager)\n   at System.Activities.Runtime.ActivityExecutor.ExecuteActivityWorkItem.ExecuteBody(ActivityExecutor executor, BookmarkManager bookmarkManager, Location resultLocation) </p>\n</blockquote>\n<p>當下的第一個想法是想說，嗯，那應該又是Team Foundation Service提供的NuGet版本問題，但後來仔細想想，不對阿，Team Foundation Service理論上不太可能提供1.8這種古老版本，後來想到專案裡面重新建置會有一個Nuget.exe檔案，所以打開了檔案仔細看了一下，結果發現，原來是這個exe檔的版本太舊…Orz…</p>\n<p><a href=\"http://lh6.ggpht.com/-hveD5vE7teQ/UeL4iRiqdZI/AAAAAAAAGrc/u6IUbR2zPNA/s1600-h/image%25255B7%25255D.png\"><img src=\"http://lh5.ggpht.com/-fc8ruBkrppU/UeL4jVm95hI/AAAAAAAAGrk/I-gh1GZmW4s/image_thumb%25255B3%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>既然知道問題所在，那要處理就簡單多了，我們只要重新啟動套件還原功能就可以了；首先，我們先把.nuget整個目錄刪除掉。</p>\n<p><a href=\"http://lh6.ggpht.com/-a2NQy7Y1FY0/UeL4kFxDdZI/AAAAAAAAGrs/iPde--dW030/s1600-h/image%25255B16%25255D.png\"><img src=\"http://lh5.ggpht.com/-wS5jxH97Cno/UeL4lPQq_OI/AAAAAAAAGr0/SOkvwfvX5kw/image_thumb%25255B8%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後重新再方案的地方啟用NuGet套件還原。</p>\n<p><a href=\"http://lh4.ggpht.com/-tBjkHjB0VIk/UeL4l9cG_vI/AAAAAAAAGr8/vJLj0nmjBuc/s1600-h/image%25255B12%25255D.png\"><img src=\"http://lh5.ggpht.com/-AtauXdGQueA/UeL4m4OzMsI/AAAAAAAAGsE/i-yWH7vVE18/image_thumb%25255B6%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>重新看一下版本，發現，現在已經到2.6了!!</p>\n<p><a href=\"http://lh5.ggpht.com/-CMbvYjGaRoU/UeL4nmmQjOI/AAAAAAAAGsM/9x8uh-GUos8/s1600-h/image%25255B21%25255D.png\"><img src=\"http://lh3.ggpht.com/-1uXj0mrsids/UeL4oaevOjI/AAAAAAAAGsU/4uA-e_XOYLA/image_thumb%25255B11%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後再重新啟用CI，終於成功了QQ…第一次遇到這種問題啊…</p>\n<p><a href=\"http://lh6.ggpht.com/-hsr54nFxZ9s/UeL4pG_bpTI/AAAAAAAAGsc/4aqYxULxrYo/s1600-h/image%25255B25%25255D.png\"><img src=\"http://lh3.ggpht.com/-kXsS771LqQI/UeL4p7XF5mI/AAAAAAAAGsk/WYIXcVTxuPw/image_thumb%25255B13%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>","excerpt":"之前因為Team Foundation Service上面沒有最新的Azure SDK，所以就把CI的功能關掉，而今天心血來潮，把它重新啟動的時候，就發生了如下的錯誤，建置失敗… image 錯誤訊息如下，還滿長的，但主要是在敘說，我現在的NuGet版本是1.…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"TFS -  團隊合作的好幫手Team Room","tags":["Scrum","TFS"]},"fields":{"slug":"/2013/07/15/TFS-團隊合作的好幫手Team-Room/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/TFS-團隊合作的好幫手Team-Room.md"},"previous":{"frontmatter":{"path":null,"title":"SQL Server - 更改FileTable的Windows共用名稱","tags":["SQL Server"]},"fields":{"slug":"/2013/07/15/SQL-Server-更改FileTable的Windows共用名稱/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/SQL-Server-更改FileTable的Windows共用名稱.md"}}}}