{"componentChunkName":"component---src-templates-page-js","path":"/2013/03/10/Windows-Azure-使用OData並利用Visual-Studio佈署到Web-Site要注意/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"Windows Azure -  使用OData並利用Visual Studio佈署到Web Site要注意!","date":"10 March 2013","author":"Sky Chang","excerpt":null,"tags":["ASP.NET MVC","Azure","Entity Framework","Linq","OData","SQL Server","Visual Studio"],"coverImage":null},"id":"418ed381-3f13-59e1-845b-9333e2857753","html":"<p>好久沒寫文章了，最近真的有點忙到翻掉，不過今天遇到一個找了超久的一個問題，所以還是趕快紀錄一下，不然應該馬上就忘記了。</p>\n<p>這個發生的過程，是小弟我在寫ASP.NET MVC Web API並且搭配ODATA時遇到的一個狀況，嗯，簡單的說，如果是使用Local來測試，完全不會有任何問題，而是透過Visual Studio的佈署到Azurw上的Web Site時，因為疏忽，所以少設定了一個東西，所以在Web Site上，使用ODATA的時候一直發生錯誤… ( 結果這個錯誤，讓我花了一整個下午加上晚上…其中還陪伴著中華隊輸了14分QQ… )，所以在這邊紀錄一下，不然應該是滿容易忘記的。</p>\n<p>這個錯誤的畫面如下，如果覺得有點小，可以直接點圖，看大圖；小弟我這邊特別用藍色的框框標明起來。</p>\n<p><a href=\"http://lh6.ggpht.com/-aYPp6xZl2FM/UTt7C7Q7AEI/AAAAAAAAF6E/E6yjPrWTUmA/s1600-h/Image.jpg\"><img src=\"http://lh4.ggpht.com/-PfcBRXpv0Ps/UTt7DtlyndI/AAAAAAAAF6M/DaKppPH3pUE/Image.jpg?imgmax=800\" alt=\"2013-3-10 上午 01-51-44\" title=\"2013-3-10 上午 01-51-44\"></a></p>\n<p>錯誤的訊息是。</p>\n<blockquote>\n<p>There is already an open DataReader associated with this Command which must be closed first. </p>\n</blockquote>\n<p>反正簡單的說，就是已經有打開了一個連線，必須要關閉…，但是為何local都沒有，但丟到Azure就出問題呢!?</p>\n<p>後來交叉比對後，才發現，原來在部屬設定連線字串這邊。</p>\n<p><a href=\"http://lh6.ggpht.com/-KEHv2osWHqY/UTt7EJ9mEGI/AAAAAAAAF6U/69J2ie-U6LI/s1600-h/image%25255B4%25255D.png\"><img src=\"http://lh5.ggpht.com/-F0RpaYjhX4I/UTt7FD0d3RI/AAAAAAAAF6c/oiJqIRN49ag/image_thumb%25255B2%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>進去後的這裡，要把MultipleActiveResults改成True ( 預設是false… )</p>\n<p><a href=\"http://lh3.ggpht.com/-0Y07lvAYJLA/UTt7F2m43II/AAAAAAAAF6k/-_zyJqo_QV8/s1600-h/Image.jpg\"><img src=\"http://lh4.ggpht.com/-UU805WljKfw/UTt7Gp5yavI/AAAAAAAAF6s/bs1HTx9JZqw/Image.jpg?imgmax=800\" alt=\"2013-3-10 上午 01-51-03\" title=\"2013-3-10 上午 01-51-03\"></a></p>\n<p>完成後，再佈署一次就可以了。</p>\n<h4>後記</h4>\n<p>對了，相信一定會有人對於這個選項感到好奇，但小弟這邊不是偷懶不打XDD，而是已經有<a href=\"http://blog.kkbruce.net/\">KK前輩</a>寫過這方面的文章了，如果有興趣的朋友，可以去參考資料下，看一下。</p>\n<h4>參考資料</h4>\n<ul>\n<li><a href=\"http://blog.kkbruce.net/2009/11/aspnetmars.html#.UTt6PlccPlU\" title=\"http://blog.kkbruce.net/2009/11/aspnetmars.html#.UTt6PlccPlU\">http://blog.kkbruce.net/2009/11/aspnetmars.html#.UTt6PlccPlU</a></li>\n<li><a href=\"http://msdn.microsoft.com/zh-tw/library/h32h3abf%28v=vs.110%29.aspx\" title=\"http://msdn.microsoft.com/zh-tw/library/h32h3abf%28v=vs.110%29.aspx\">http://msdn.microsoft.com/zh-tw/library/h32h3abf%28v=vs.110%29.aspx</a></li>\n</ul>","excerpt":"好久沒寫文章了，最近真的有點忙到翻掉，不過今天遇到一個找了超久的一個問題，所以還是趕快紀錄一下，不然應該馬上就忘記了。 這個發生的過程，是小弟我在寫ASP.NET MVC Web API並且搭配ODATA時遇到的一個狀況，嗯，簡單的說，如果是使用Local…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Server - 未啟動效能計數器","tags":["Windows Server"]},"fields":{"slug":"/2013/02/17/Windows-Server-未啟動效能計數器/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Server-未啟動效能計數器.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Azure - 在Cloud Service中，使用多個Instance會導致IIS Express錯誤","tags":["Azure","IIS","Visual Studio"]},"fields":{"slug":"/2013/04/02/Windows-Azure-在Cloud-Service中，使用多個Instance會導致IIS-Express錯誤/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-在Cloud-Service中，使用多個Instance會導致IIS-Express錯誤.md"}}}}