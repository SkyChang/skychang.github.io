{"componentChunkName":"component---src-templates-page-js","path":"/2013/01/04/ASP-NET-MVC-Area出現指定的組件名稱或程式碼庫無效之問題/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"ASP.NET MVC -  Area出現指定的組件名稱或程式碼庫無效之問題","date":"04 January 2013","author":"Sky Chang","excerpt":null,"tags":["ASP.NET MVC"],"coverImage":null},"id":"44a0aff9-051e-57a2-88ce-a3549d1f663e","html":"<p>這算是除錯短篇三部曲的最後一部XDD，不知道為什麼，最近都在處理這些奇奇怪怪的問題；這篇也是短短的一篇解決文章，起因也是朋友問我ASP.NET MVC Area的Url的一些問題，本來想很帥氣的，迅速地寫一篇範例來展現自己 ( 疑!? )，但後來卻發現另外一個問題…Orz…</p>\n<p>要還原這個事件，其實很簡單，只要安裝完Visual Studio 2012 Update 1後，隨便打開一個ASP.NET MVC的專案，然後加一個Area，並且隨便設定設定Controller和View；最後打開瀏覽器，就會出現以下畫面…</p>\n<blockquote>\n<p>建立 system.web.webPages.razor/host 的組態區段處理常式時發生錯誤: 指定的組件名稱或程式碼庫無效。 (發生例外狀況於 HRESULT: 0x80131047) </p>\n</blockquote>\n<p><a href=\"http://lh6.ggpht.com/-PysUP8XropU/UOb0cXW6vqI/AAAAAAAAFxg/vkWIvRVruyo/s1600-h/image%25255B3%25255D.png\"><img src=\"http://lh6.ggpht.com/-_vBAmmmSZ1U/UOb0d7qEhpI/AAAAAAAAFxk/3XwsxLidOSM/image_thumb%25255B1%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>好，反正看到錯誤訊息後，大概就知道，是版本的問題了，所以打開view底下的Web.config來看看，位置如下圖。 ( 記住，是Area底下的View底下的Web.config )</p>\n<p><a href=\"http://lh5.ggpht.com/-xGOk-f6FpcY/UOb0e2UnHDI/AAAAAAAAFxs/BX8zauNVQbQ/s1600-h/image%25255B8%25255D.png\"><img src=\"http://lh4.ggpht.com/-kYslHvlWMW0/UOb0gdGQSTI/AAAAAAAAFx4/r1cpWwibqMc/image_thumb%25255B4%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>打開如下，小弟我這邊只擷取段落，大家應該可以明顯地看到，Version後面接的像是變數的東西。( <strong>WebPagesVersion</strong>.0.0 這個字眼 )。</p>\n<pre class=\"brush: xml;\">&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;sectionGroup name=\"system.web.webPages.razor\" \n                  type=\"System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, \n                  System.Web.WebPages.Razor, Version=__WebPagesVersion__.0.0, \n                  Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;\n      &lt;section name=\"host\" type=\"System.Web.WebPages.Razor.Configuration.HostSection, \n               System.Web.WebPages.Razor, Version=__WebPagesVersion__.0.0, \n               Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n      &lt;section name=\"pages\" type=\"System.Web.WebPages.Razor.Configuration.RazorPagesSection, \n               System.Web.WebPages.Razor, Version=__WebPagesVersion__.0.0, \n               Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/configSections&gt;\n</pre>\n<p>我想當初的好意，應該是為了讓Area的樣板可以無關於組件的版本，所以才這樣設計，但不知道為什麼，反而錯在這邊…，所以我們可以做調整，假設我們先調整Razor這個組件，改成特定的版本看看。( 改成Version=2.0.0.0 )，如下。</p>\n<pre class=\"brush: xml;\">  &lt;configSections&gt;\n    &lt;sectionGroup name=\"system.web.webPages.razor\" \n                  type=\"System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, \n                  System.Web.WebPages.Razor, Version=2.0.0.0, \n                  Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;\n      &lt;section name=\"host\" type=\"System.Web.WebPages.Razor.Configuration.HostSection, \n               System.Web.WebPages.Razor, Version=__WebPagesVersion__.0.0, \n               Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n      &lt;section name=\"pages\" type=\"System.Web.WebPages.Razor.Configuration.RazorPagesSection, \n               System.Web.WebPages.Razor, Version=__WebPagesVersion__.0.0, \n               Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/configSections&gt;\n</pre>\n<p>結果就會如同下圖，恩，至少剛剛改的2.0.0.0那個有用了XDDD</p>\n<p><a href=\"http://lh4.ggpht.com/-_Oem-bL2zKk/UOb0hXUs2MI/AAAAAAAAFx8/6TsJPinnTVI/s1600-h/image%25255B15%25255D.png\"><img src=\"http://lh4.ggpht.com/-YkWtBcz18yc/UOb0i4ACb7I/AAAAAAAAFyI/oJVzFX8e_-o/image_thumb%25255B7%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>既然確定了原因，那要怎樣做?，其實很簡單，我們其實可以直接把預設View底下的Web.config拷貝到Area底下的View底下的Web.config就可以了；如下圖，把\"根\"下的Views目錄，底下的Web.config裡面的內容，複製一份，貼到Test( 這是個Area )底下的Views目錄下的Web.config就可以了。</p>\n<p><a href=\"http://lh5.ggpht.com/--UP8uBxeTPQ/UOb0j2IjJ5I/AAAAAAAAFyM/IjoT6u79pU8/s1600-h/image%25255B20%25255D.png\"><img src=\"http://lh4.ggpht.com/-K3O5OEHsuOs/UOb0lONZq7I/AAAAAAAAFyY/TrkfPvdjibc/image_thumb%25255B10%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>在一次執行，就可以了。( 恩…下圖不是缺圖，是因為我沒在View裡面寫任何文字XDD，所以輸出的View就是一片空白… )</p>\n<p><a href=\"http://lh6.ggpht.com/-F0LX_KcCStM/UOb0mACvcOI/AAAAAAAAFyc/xuivQgPuO0s/s1600-h/image%25255B29%25255D.png\"><img src=\"http://lh6.ggpht.com/-CmnFUTAsgqY/UOb0nfr2sII/AAAAAAAAFyk/_8Ti00njrXk/image_thumb%25255B15%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>大致上就這樣，這部分，未來官方應該會修正，有碰到錯誤的朋友，可以暫時先忍痛一下QQ..</p>\n<h4>參考網址</h4>\n<ul>\n<li><a href=\"http://volaresystems.com/Blog/post/2012/12/11/Fix-for-weird-errors-in-MVC4-when-adding-a-new-Area.aspx\" title=\"http://volaresystems.com/Blog/post/2012/12/11/Fix-for-weird-errors-in-MVC4-when-adding-a-new-Area.aspx\">http://volaresystems.com/Blog/post/2012/12/11/Fix-for-weird-errors-in-MVC4-when-adding-a-new-Area.aspx</a></li>\n</ul>","excerpt":"這算是除錯短篇三部曲的最後一部XDD，不知道為什麼，最近都在處理這些奇奇怪怪的問題；這篇也是短短的一篇解決文章，起因也是朋友問我ASP.NET MVC Area的Url的一些問題，本來想很帥氣的，迅速地寫一篇範例來展現自己 ( 疑!? )，但後來卻發現另外一個問題…Orz…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"SignalR -  無法與伺服器建立連線","tags":["ASP.NET","ASP.NET MVC","SignalR"]},"fields":{"slug":"/2013/01/04/SignalR-無法與伺服器建立連線/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/SignalR-無法與伺服器建立連線.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Server - 使用Win8管理Windows Server","tags":["Windows","Windows Server"]},"fields":{"slug":"/2013/02/15/Windows-Server-使用Win8管理Windows-Server/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Server-使用Win8管理Windows-Server.md"}}}}