{"componentChunkName":"component---src-templates-page-js","path":"/2013/04/18/SQL-Server-安裝StreamInsight-2-1/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"SQL Server -  安裝StreamInsight 2.1","date":"18 April 2013","author":"Sky Chang","excerpt":null,"tags":["SQL Server"],"coverImage":null},"id":"4bf873c7-e298-5651-ad47-84c140f2b851","html":"<p>這幾天，因為公司的需求，所以研究了這一個國內極度冷門，而且還不是我領域的東西…( SQL Server領域…)，不過雖然是屬於SQL Server領域，但這個東西還是屬於程式開發者的東西，所以公司非常的看重(!?)我的情況下，就把這個case丟給我了…，所以就順便紀錄一下。</p>\n<p>對於StreamInsight有興趣的朋友，也可以參考<a href=\"http://msdn.microsoft.com/zh-tw/library/hh750619%28v=sql.10%29.aspx\">官網</a>。</p>\n<p>在開始前，小弟我先付上一張<a href=\"http://msdn.microsoft.com/zh-tw/library/ee391536%28v=sql.111%29.aspx\">MSDN官網</a>提供的架構圖，好的，我相信只有圖的狀況下，大家應該還是看不懂XDD，其實StreamInsight這個東西很簡單，就是一個input和一個ouput；而透過input來輸入不同的數據，經過中間的處理後，ouput成有用的東西!!</p>\n<p>好，我相信以上解釋得很爛，所以舉個例子吧，比如有一個Azure的Server ( 硬要扯到Azure XDD )，我們要去監控目前的CPU使用率，當超過80%的時候，就Alert通知管理者。</p>\n<p><img src=\"http://i.msdn.microsoft.com/dynimg/IC601236.gif\" alt=\"CEP 的架構概觀\" title=\"CEP 的架構概觀\"></p>\n<p>所以如上圖，我們的Input(左邊)，可能就透過Azure提供的cpu數據，不間斷的每秒送出資料到StreamInsight(中間)，而中間經過Linq的處理(是的，就是透過Linq來將資料處理)，就可以把超過80%使用率的資料，送到管理者(右邊，可能存到db，或是寫到log檔)。</p>\n<p>當然，這樣其實也沒甚麼，但StreamInsight真正神奇的地方是，輸入的資料是經過處理的，所以我們可以利用StreamInsight來取得五秒內cpu平均是多少，或是5秒內最高的使用率是多少(使用Linq去做篩選與計算)，而最後，吐出這些資料!!</p>\n<p>神奇嗎??但這篇不會提到怎麼寫這個程式…這篇只會提到安裝，所以有興趣的朋友們可以先參考官網，其實滿簡單的。</p>\n<p>聽完心癢癢後，想要使用StreamInsight!?，但要注意的是，你必須要有SQL Server的金鑰，不然只能使用180天，而比較特別的是，雖然需要金鑰，但SQL Server 2012 執行個體是不需要安裝在電腦上。</p>\n<p>如果有興趣，就去這裡<a href=\"http://www.microsoft.com/zh-tw/download/details.aspx?id=30149\">下載</a>吧!!</p>\n<p>下載有分Client和Server端，我們當然是先下載Server端。</p>\n<p><a href=\"http://lh5.ggpht.com/-7WEgS60ua0s/UW7OTQVZjbI/AAAAAAAAF9k/VXyCtOrScGc/s1600-h/image%25255B4%25255D.png\"><img src=\"http://lh4.ggpht.com/-2DEkB3L2iqs/UW7OUX-k3II/AAAAAAAAF9s/zQE_UG3KVVA/image_thumb%25255B2%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後就一步一步安裝了~~</p>\n<p><a href=\"http://lh4.ggpht.com/-4mUJWXlZTGU/UW7OVSfMyvI/AAAAAAAAF90/sITQu8SNuOQ/s1600-h/image%25255B12%25255D.png\"><img src=\"http://lh6.ggpht.com/-gMt83xRV79g/UW7OWvVpYBI/AAAAAAAAF98/y0fvXttJVOw/image_thumb%25255B6%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p><font face=\"新細明體\"><font color=\"#000000\"><span id=\"mt28\" class=\"sentence\" xml:space=\"preserve\" data-source=\"StreamInsight allows multiple versions to be installed side-by-side on the same computer.\" data-guid=\"380c17b859d6d3e1d39e634c72ea1f41\">&#x3C;?XML:NAMESPACE PREFIX = \"[default] <a href=\"http://www.w3.org/1999/xhtml\">http://www.w3.org/1999/xhtml</a>\" NS = \"<a href=\"http://www.w3.org/1999/xhtml\">http://www.w3.org/1999/xhtml</a>\" /><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\"><font style=\"font-size: 12pt\">安裝到一半，就會出現讓人不知所措的畫面…Orz…其實</font></sentencetext></span></font></font><font face=\"新細明體\"><font color=\"#000000\"><span class=\"sentence\" xml:space=\"preserve\" data-source=\"StreamInsight allows multiple versions to be installed side-by-side on the same computer.\" data-guid=\"380c17b859d6d3e1d39e634c72ea1f41\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\"><font style=\"font-size: 12pt\">StreamInsight 允許在同一部電腦上安裝多個版本。</font></sentencetext></span></font></font></p>\n<p><font face=\"新細明體\"><font color=\"#000000\"><font size=\"3\"><span class=\"sentence\" xml:space=\"preserve\" data-source=\"StreamInsight allows multiple versions to be installed side-by-side on the same computer.\" data-guid=\"380c17b859d6d3e1d39e634c72ea1f41\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\">而用來區分的方式，就是執行個體的名稱，最特別的是，</sentencetext><font style=\"font-size: 12pt\"> </font></span><font style=\"font-size: 12pt\"><span id=\"mt29\" class=\"sentence\" xml:space=\"preserve\" data-source=\"Each version that is installed supports multiple instances.\" data-guid=\"4aaec6e19ed979a08a6d90a5542299d1\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\">每個安裝的版本也都支援多個執行個體。</sentencetext></span></font></font></font></font></p>\n<p><font face=\"新細明體\"><font color=\"#000000\"><font size=\"3\"><font style=\"font-size: 12pt\"><span class=\"sentence\" xml:space=\"preserve\" data-source=\"Each version that is installed supports multiple instances.\" data-guid=\"4aaec6e19ed979a08a6d90a5542299d1\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\"></sentencetext></span></font></font></font></font><font face=\"新細明體\"><font color=\"#000000\"><font style=\"font-size: 12pt\"><span id=\"mt30\" class=\"sentence\" xml:space=\"preserve\" data-source=\"Both the version and the instance name are used to identify installation directories and registry keys for each instance of StreamInsight.\" data-guid=\"c4ec5d238cc5c9bdd31ef2bdca4cc9ad\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\">版本和執行個體名稱都是用來識別每個 StreamInsight 執行個體的安裝目錄和登錄機碼。</sentencetext></span> <span id=\"mt31\" class=\"sentence\" xml:space=\"preserve\" data-source=\"You must also provide the instance name when you connect to a StreamInsight server.\" data-guid=\"042c9f8312fe1aeb8476246715b13191\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\">當您連接到 StreamInsight 伺服器時，也必須提供執行個體名稱。</sentencetext></span></font></font></font></p>\n<p><font face=\"新細明體\"><font color=\"#000000\"><font style=\"font-size: 12pt\"><span class=\"sentence\" xml:space=\"preserve\" data-source=\"You must also provide the instance name when you connect to a StreamInsight server.\" data-guid=\"042c9f8312fe1aeb8476246715b13191\"><sentencetext xmlns=\"http://www.w3.org/1999/xhtml\">所以，這邊要輸入一下執行個體名稱。</sentencetext></span></font></font></font></p>\n<p><a href=\"http://lh3.ggpht.com/-xTFylwx6Ut8/UW7OXaabpkI/AAAAAAAAF-E/9SZtLPGptrU/s1600-h/image%25255B13%25255D.png\"><img src=\"http://lh3.ggpht.com/-Ju7c3S8sclc/UW7OYda3wRI/AAAAAAAAF-M/6mFiiEb8iFk/image_thumb%25255B7%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，請翻出SQL Server的金鑰吧~~</p>\n<p><a href=\"http://lh6.ggpht.com/-Ns0szQwLl4Q/UW7OZb96aAI/AAAAAAAAF-U/lj7Q2fjRgcs/s1600-h/image%25255B17%25255D.png\"><img src=\"http://lh3.ggpht.com/-lqbFf2JsgDY/UW7Oaf-31uI/AAAAAAAAF-c/VINYEt-iRm0/image_thumb%25255B9%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來，我們要勾選以下兩個，剛勾選使用Windows服務的時候，預設會使用 Windows NetworkService 帳戶當做此服務的登入帳戶，當然，之後也可以自己去改；第二我們要把目前使用者加入到StreamInsight User群組(真實的群組為StreamInsightUsers$MyInstance MyInstance為剛剛給的實體名稱。)，這樣這個群組中的使用者才可以連接到發行的 StreamInsight 伺服器。</p>\n<p><a href=\"http://lh3.ggpht.com/-sILrP1amd2E/UW7ObaAng1I/AAAAAAAAF-k/U62pfsbpIU0/s1600-h/image%25255B21%25255D.png\"><img src=\"http://lh4.ggpht.com/-0a73oTNk6X8/UW7OcaFQNTI/AAAAAAAAF-s/peLB5BWPAuw/image_thumb%25255B11%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>然後就開始安裝了。</p>\n<p><a href=\"http://lh5.ggpht.com/-4gcmrC9EucA/UW7OdCz-MCI/AAAAAAAAF-0/k-LYBkGytDE/s1600-h/image%25255B25%25255D.png\"><img src=\"http://lh5.ggpht.com/-cfC6F3UDkgo/UW7Od9uHJbI/AAAAAAAAF-8/lsjVYCeLW3Y/image_thumb%25255B13%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>基本上，安裝的速度，絕對比小弟我重新下載SQL Server的iso，去尋找金鑰的時間還來的快…，但安裝完後，目前StreamInsight需要使用到SQL Compact Edition 3.5來當作中繼資料存放區，所以還要安裝一下SQL Compact Edition 3.5 sp2。</p>\n<p><a href=\"http://lh6.ggpht.com/-Ln5eVuU60yU/UW7Oe_voIcI/AAAAAAAAF_E/sCQ-BqYSC4I/s1600-h/image%25255B33%25255D.png\"><img src=\"http://lh3.ggpht.com/-de0PXPesejQ/UW7Oft0SHgI/AAAAAAAAF_M/yrFUcAitrSE/image_thumb%25255B17%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>至於這個東西要去哪裡找呢?其實安裝玩StreamInsight時，就會自動地把msi也準備好了，大家可以到C:\\Program Files\\Microsoft StreamInsight 2.1\\Redist找到msi，不過比較詭異的是，要安裝x64..還要先安裝x86版本- -…</p>\n<p>另外，內附的版本是英文版，不過目前也幾乎沒用到SQL CE了，所以我也懶得特別去找中文版…</p>\n<p><a href=\"http://lh3.ggpht.com/-zUMhOkAi40s/UW7Ogn8C7mI/AAAAAAAAF_U/QE0z1YDXmwQ/s1600-h/image%25255B38%25255D.png\"><img src=\"http://lh3.ggpht.com/-_8wKvxQhEZE/UW7OhrSSgrI/AAAAAAAAF_c/MS9-1UuFS9Y/image_thumb%25255B20%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>於是，我們先安裝x86版本…</p>\n<p><a href=\"http://lh6.ggpht.com/-uknOS6Qnzn4/UW7OiqK9GwI/AAAAAAAAF_k/7oX7AAYGbXM/s1600-h/image%25255B45%25255D.png\"><img src=\"http://lh5.ggpht.com/-7_8PdajTRI4/UW7OjS6NKBI/AAAAAAAAF_o/rWv-62bdoGM/image_thumb%25255B23%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>接下來安裝x64版本…</p>\n<p><a href=\"http://lh4.ggpht.com/-tZaoBHfe5Lw/UW7OlzOWmVI/AAAAAAAAF_w/7QwZI14R4p8/s1600-h/image%25255B46%25255D.png\"><img src=\"http://lh4.ggpht.com/-lW1d52Gbgts/UW7OnBbpGBI/AAAAAAAAF_4/VsXXtFXP9xU/image_thumb%25255B24%25255D.png?imgmax=800\" alt=\"image\" title=\"image\"></a></p>\n<p>到這邊，就算完成了!!</p>\n<h4>後記</h4>\n<p>很抱歉，最近真的忙到翻掉，所以沒空把這個範例在整理上來，如果對此有興趣的人，可以去參考官網，目前都有中文的喔。</p>\n<h4>參考資料</h4>\n<ul>\n<li><a href=\"http://msdn.microsoft.com/zh-tw/library/hh750619%28v=sql.10%29.aspx\" title=\"http://msdn.microsoft.com/zh-tw/library/hh750619%28v=sql.10%29.aspx\">http://msdn.microsoft.com/zh-tw/library/hh750619%28v=sql.10%29.aspx</a></li>\n</ul>","excerpt":"這幾天，因為公司的需求，所以研究了這一個國內極度冷門，而且還不是我領域的東西…( SQL Server領域…)，不過雖然是屬於SQL Server領域，但這個東西還是屬於程式開發者的東西，所以公司非常的看重(!?)我的情況下，就把這個case…"}},"pageContext":{"type":"posts","next":{"frontmatter":{"path":null,"title":"Windows Azure - 在Cloud Service中，使用多個Instance會導致IIS Express錯誤","tags":["Azure","IIS","Visual Studio"]},"fields":{"slug":"/2013/04/02/Windows-Azure-在Cloud-Service中，使用多個Instance會導致IIS-Express錯誤/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-在Cloud-Service中，使用多個Instance會導致IIS-Express錯誤.md"},"previous":{"frontmatter":{"path":null,"title":"Windows Azure - 在Web Site下使用Azure SQL Database來存放Session","tags":["ASP.NET","ASP.NET MVC","Azure","IIS","SQL Server"]},"fields":{"slug":"/2013/04/25/Windows-Azure-在Web-Site下使用Azure-SQL-Database來存放Session/"},"fileAbsolutePath":"/home/runner/work/blog.sanc.idv.tw/blog.sanc.idv.tw/src/posts/blog.sanc.idv.tw/Windows-Azure-在Web-Site下使用Azure-SQL-Database來存放Session.md"}}}}