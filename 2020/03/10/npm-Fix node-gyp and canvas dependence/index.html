<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="iFYOZeAkjA9mpw80K_6C3Ybqm8zAmrJ3XXy5cSphRew" />










  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaScript,Node.js,npm,GTK,Python," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="不重要的碎碎念又幾百年沒寫 Blog 了，看到一年前的文章，好像每年對會這樣道歉一次呢 ( 遮臉 )，但不管怎樣，還是請大家多多包涵啊～～ 問題會回來寫這篇文章，是因為今天搞 node-gyp 和 canvas 的相依性，整整搞了我一天，而且覺得這個問題，未來遇到的機會還是會非常高，所以就在這邊統整紀錄一下，不然過幾天我大概就忘記了 (攤手) 今天發生的問題，主要是因為某個專案有使用到 Fabri">
<meta property="og:type" content="article">
<meta property="og:title" content="npm - 處理 node-gyp 和 canvas 的相依性">
<meta property="og:url" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/index.html">
<meta property="og:site_name" content="天空的垃圾場">
<meta property="og:description" content="不重要的碎碎念又幾百年沒寫 Blog 了，看到一年前的文章，好像每年對會這樣道歉一次呢 ( 遮臉 )，但不管怎樣，還是請大家多多包涵啊～～ 問題會回來寫這篇文章，是因為今天搞 node-gyp 和 canvas 的相依性，整整搞了我一天，而且覺得這個問題，未來遇到的機會還是會非常高，所以就在這邊統整紀錄一下，不然過幾天我大概就忘記了 (攤手) 今天發生的問題，主要是因為某個專案有使用到 Fabri">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/0.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/001.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/002.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/003.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/004.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/01.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/02.png">
<meta property="og:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/03.png">
<meta property="article:published_time" content="2020-03-10T23:59:00.000Z">
<meta property="article:modified_time" content="2020-05-27T12:09:39.063Z">
<meta property="article:author" content="Sky Chang">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Node.js">
<meta property="article:tag" content="npm">
<meta property="article:tag" content="GTK">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/0.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> npm - 處理 node-gyp 和 canvas 的相依性 | 天空的垃圾場 </title>
<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-29938905-2', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">天空的垃圾場</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-development">
          <a href="/development" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            開發
          </a>
        </li>
      
        
        <li class="menu-item menu-item-alm">
          <a href="/alm" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            維運
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cloud">
          <a href="/cloud" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            雲端
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                npm - 處理 node-gyp 和 canvas 的相依性
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2020-03-10T23:59:00+00:00" content="2020-03-10">
              2020-03-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/10/npm-Fix node-gyp and canvas dependence/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="不重要的碎碎念"><a href="#不重要的碎碎念" class="headerlink" title="不重要的碎碎念"></a>不重要的碎碎念</h2><p>又幾百年沒寫 Blog 了，看到一年前的文章，好像每年對會這樣道歉一次呢 ( 遮臉 )，但不管怎樣，還是請大家多多包涵啊～～</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>會回來寫這篇文章，是因為今天搞 node-gyp 和 canvas 的相依性，整整搞了我一天，而且覺得這個問題，未來遇到的機會還是會非常高，所以就在這邊統整紀錄一下，不然過幾天我大概就忘記了 (攤手)</p>
<p>今天發生的問題，主要是因為某個專案有使用到 <a href="https://www.npmjs.com/package/fabric" target="_blank" rel="noopener">Fabric 2.2.2</a>，當然，因為這個專案已經有一段時間了，所以版本比較舊，但不論新舊，其實你去 Fabric 的官網可以看到，這個專案其實是相依於 <a href="https://www.npmjs.com/package/canvas" target="_blank" rel="noopener">canvas 1.6.x</a>，而要 install canvas，則必須要使用<br><a href="https://www.npmjs.com/package/node-gyp" target="_blank" rel="noopener">node-gyp</a> 來進行 build。</p>
<p>當然，相依不是問題，問題是 node-gyp 和 canvas 除了開心地裝完 Node.js 外，還必須搭配其他的東西…</p>
<p>喔，題外話，Fabric 是處理 SVG 等等的套件，所以要 canvas 也不意外了，而 node-gyp 則是原生的 build 套件，則是要拿來 build canvas 用的。</p>
<p>所以當沒處理相依性的時候，就會出現底下錯誤。</p>
<p><code>Python is not set from command line or npm configuration</code></p>
<p><img src="0.png" alt=""></p>
<h3 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h3><p>目前 Fabric 是 4.x 版本，對應到的 canvas 是 2.x，小弟在處理的是 Fabric 2.x 和 canvas 1.6.x，但所需的東西，小弟是直接看個版本最新所裝的。</p>
<p>簡單的說在 4.x 也會遇到…</p>
<h2 id="在開始之前"><a href="#在開始之前" class="headerlink" title="在開始之前"></a>在開始之前</h2><p>這邊要提醒一下大家，其實相依性有滿多東西要裝的，如果真的很懶，可以直接拉到最下面，最後面有一個自動解決的方案，但小弟不喜歡就是了。</p>
<h2 id="安裝-Python"><a href="#安裝-Python" class="headerlink" title="安裝 Python"></a>安裝 Python</h2><p>這個錯誤好解決，一看就知道了，就是缺少 Python，基本上目前 node-gyp 是支援 3.x 的 Python 的 ( 至少我沒遇到問題 )</p>
<p>那 Windows 要怎麼安裝 Python 呢？</p>
<p>只要在 PowerShell 打 Python，他就會自動跳出 Microsoft Store 來安裝….</p>
<p><img src="001.png" alt=""></p>
<p>當然，你想用其他安裝方式，也可以啦….但小弟就直接用 Store 來安裝了</p>
<h2 id="缺乏-C"><a href="#缺乏-C" class="headerlink" title="缺乏 C++"></a>缺乏 C++</h2><p>完成後，繼續往下，會發現，這次少了 C++ Build 的 Tool，在 Windows 底下，當然就是 Visual Studio 莫屬了…</p>
<p><code>msvs_version not set from command line or npm config</code></p>
<p><img src="002.png" alt=""></p>
<h2 id="安裝-Visual-Studio-C-桌面開發"><a href="#安裝-Visual-Studio-C-桌面開發" class="headerlink" title="安裝 Visual Studio C++ 桌面開發"></a>安裝 Visual Studio C++ 桌面開發</h2><p>那這個怎麼解決呢，簡單，只要安裝 Visual Studio C++ 桌面開發功能就可以了。</p>
<p><img src="003.png" alt=""></p>
<p>截至為止，node-gyp 缺乏的東西就補齊了，基本上 node-gyp 缺乏的就是 Python &amp; C++ Tool.</p>
<p>相關資訊可以參考 <a href="https://github.com/nodejs/node-gyp" target="_blank" rel="noopener">node-gyp install</a></p>
<h2 id="缺乏-GTK"><a href="#缺乏-GTK" class="headerlink" title="缺乏 GTK"></a>缺乏 GTK</h2><p>node-gyp 解決後，原本以為ㄧ凡風順，但沒想到 canvas 也缺東缺西。沒錯，缺的就是 GTK…</p>
<p><code>cairo.h : No Such file or directory</code></p>
<p><img src="004.png" alt=""></p>
<h2 id="安裝-GTK-Cairo-Lib"><a href="#安裝-GTK-Cairo-Lib" class="headerlink" title="安裝 GTK Cairo Lib"></a>安裝 GTK Cairo Lib</h2><p>根據<a href="https://github.com/Automattic/node-canvas/wiki/Installation:-Windows" target="_blank" rel="noopener">官網</a>的敘述，canvas 需要GTK cairo lib ，所以需要進行下載 <a href="http://ftp.gnome.org/pub/GNOME/binaries/win64/gtk+/2.22/gtk+-bundle_2.22.1-20101229_win64.zip" target="_blank" rel="noopener">cairo 64x</a>，當然這邊建議大家還是回到官網看看，有沒有需要更新這個 Lib 的下載位置。</p>
<p>下載完成後，全部解壓縮到 C:\GTK 就可以了，如果不想要解到這個目錄，可以參考上面官網的連結，需要調整 node-gyp 的參數，預設他是吃 C:\GTK</p>
<p>另外，如果 canvas 2.0 以上，想使用 JPEG 的功能，還需要安裝 libjpeg-turbo，小弟的專案沒此需求，所以這邊就省略了，有需要的人自己要注意。</p>
<p>基本上，這樣就可以順利完成了..</p>
<h2 id="番外篇"><a href="#番外篇" class="headerlink" title="番外篇"></a>番外篇</h2><p>原則上是這樣，但這次的情況有點特殊，處理完上面所有步驟後，結果還是不行..<br>出現類似 </p>
<p><code>nan_implementation_12_inl.h(103,37):  error C2664</code> 的錯誤…</p>
<p>後來發現，主要是因為一開始安裝的是 node 12.x 版本，而 12.x 對應到 Fabric 2.2.x 和 canvas 1.6.x 版本會有問題。</p>
<p>後續降到 node 8.x 版本，就可以順利解決了….</p>
<h2 id="自動方案"><a href="#自動方案" class="headerlink" title="自動方案"></a>自動方案</h2><p>最後，提一下自動方案。</p>
<p>當然，那麼複雜的問題，一定有懶人方案，其實，目前安裝 Node.js 的時候，就會有下圖這個地方可以勾選了。勾完後，就會跳出另外的視窗，自動地幫你把需要的相依性套件裝上 ( 也就是等下我們手動要裝的東西 )，而這個功能，會另外安裝 Chocolatey 來進行相依性套件的管理。原則上，Choco 是還不錯啦，裝某些東西很方便，就如同 mac 底下的 brew。但這邊，除非你的電腦完全沒裝 Visual Studio，甚至也不想裝 Visual Studio ( 不是 VS code )，那我覺得用力地勾下去，就一了百了了，但如果已經有裝 VS。我強烈建議就不要勾了。沒錯，我今天就發生了慘案….</p>
<p><img src="01.png" alt=""></p>
<p>沒錯，如下圖，因為在測試原因，所以後續我就用 choco 把裝上去的東西給移除掉，但…他竟然，竟然把我的 VS 2019 整個移除掉了！！！（ 怒 )</p>
<p><img src="02.png" alt=""></p>
<p>原因是因為，在 node-gyp 的相依性裡面，需要 C++ 的編譯，而勾選後，他預設會裝 VS 2017 的 Build Tool ( 不是整個 IDE，只有指令 )，而他裡面也會裝一個 Visualstudio-installer，當移除這個的時候，就會真的把 Visual Studio Installer 打開，並且把 2019 的東西全部移除 ( 翻 )</p>
<p><img src="03.png" alt=""></p>
<p>所以今天，經歷了 VS 2019 的重灌和重裝 ( 倒 )</p>
<p>另外，官方也提到有這個指令可以快速安裝</p>
<p><code>npm install --global --production windows-build-tools</code></p>
<p>不過小弟就沒試了，感覺就和勾選的那個一樣..</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>總之，如一開始所說，小弟本身也不太喜歡一整包的裝，而且這種裝法，沒事的時候沒事，一忘記，一移除，整個 VS 就 bye 了，所以小弟自己還是喜歡手動處理…</p>
<p>當然如前面所敘述，如果本身就沒裝 VS 的朋友，其實快速安裝，也不失是一種不錯的手段，但不管怎樣，就給大家參考囉～～～～</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><ul>
<li><a href="https://github.com/nodejs/node-gyp" target="_blank" rel="noopener">https://github.com/nodejs/node-gyp</a></li>
<li><a href="https://www.npmjs.com/package/node-gyp" target="_blank" rel="noopener">https://www.npmjs.com/package/node-gyp</a></li>
<li><a href="https://www.npmjs.com/package/canvas" target="_blank" rel="noopener">https://www.npmjs.com/package/canvas</a></li>
<li><a href="https://github.com/Automattic/node-canvas" target="_blank" rel="noopener">https://github.com/Automattic/node-canvas</a></li>
</ul>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag">#JavaScript</a>
          
            <a href="/tags/Node-js/" rel="tag">#Node.js</a>
          
            <a href="/tags/npm/" rel="tag">#npm</a>
          
            <a href="/tags/GTK/" rel="tag">#GTK</a>
          
            <a href="/tags/Python/" rel="tag">#Python</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/05/O365-Change_Outlook_ICON_Style/" rel="next" title="O365 - 變更 Outlook 的 Icon Style">
                <i class="fa fa-chevron-left"></i> O365 - 變更 Outlook 的 Icon Style
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/11/Visual-Studio-Task%20Runner%20Explorer%20and%20Nodejs%20version/" rel="prev" title="Visual Studio - Task Runner Explorer 和 Node 版本">
                Visual Studio - Task Runner Explorer 和 Node 版本 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Sky Chang" />
          <p class="site-author-name" itemprop="name">Sky Chang</p>
          <p class="site-description motion-element" itemprop="description">雖然是垃圾場，但還是有許多好東西</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">354</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">108</span>
                <span class="site-state-item-name">標籤</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#不重要的碎碎念"><span class="nav-number">1.</span> <span class="nav-text">不重要的碎碎念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#問題"><span class="nav-number">2.</span> <span class="nav-text">問題</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#補充"><span class="nav-number">2.1.</span> <span class="nav-text">補充</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在開始之前"><span class="nav-number">3.</span> <span class="nav-text">在開始之前</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安裝-Python"><span class="nav-number">4.</span> <span class="nav-text">安裝 Python</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缺乏-C"><span class="nav-number">5.</span> <span class="nav-text">缺乏 C++</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安裝-Visual-Studio-C-桌面開發"><span class="nav-number">6.</span> <span class="nav-text">安裝 Visual Studio C++ 桌面開發</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缺乏-GTK"><span class="nav-number">7.</span> <span class="nav-text">缺乏 GTK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安裝-GTK-Cairo-Lib"><span class="nav-number">8.</span> <span class="nav-text">安裝 GTK Cairo Lib</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#番外篇"><span class="nav-number">9.</span> <span class="nav-text">番外篇</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自動方案"><span class="nav-number">10.</span> <span class="nav-text">自動方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#結論"><span class="nav-number">11.</span> <span class="nav-text">結論</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#參考資料"><span class="nav-number">12.</span> <span class="nav-text">參考資料</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sky Chang</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io" target="_blank" rel="noopener">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'skychang';
      var disqus_identifier = '2020/03/10/npm-Fix node-gyp and canvas dependence/';
      var disqus_title = 'npm - 處理 node-gyp 和 canvas 的相依性';
      var disqus_url = 'http://skychang.github.io/2020/03/10/npm-Fix%20node-gyp%20and%20canvas%20dependence/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
